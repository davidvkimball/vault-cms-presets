/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ZenMode
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/settings.ts
var DEFAULT_SETTINGS = {
  zenMode: false,
  leftSidebar: false,
  rightSidebar: false,
  fullscreen: false,
  exitButtonVisibility: "always",
  autoHideButtonOnDesktop: false,
  hideProperties: false,
  hideInlineTitle: false,
  topPadding: 0,
  bottomPadding: 0,
  focusedFileMode: false,
  hideStatusBar: false
};

// src/settings-tab.ts
var import_obsidian2 = require("obsidian");

// src/utils/settings-compat.ts
var import_obsidian = require("obsidian");
var ObsidianModule = __toESM(require("obsidian"), 1);
function createSettingsGroup(containerEl, heading, manifestId) {
  if ((0, import_obsidian.requireApiVersion)("1.11.0")) {
    const SettingGroupClass = ObsidianModule.SettingGroup;
    if (SettingGroupClass) {
      const group = heading ? new SettingGroupClass(containerEl).setHeading(heading) : new SettingGroupClass(containerEl);
      return {
        addSetting(cb) {
          group.addSetting(cb);
        }
      };
    }
  }
  if (manifestId) {
    containerEl.addClass(`${manifestId}-settings-compat`);
  }
  {
    if (heading) {
      const headingEl = containerEl.createDiv("setting-group-heading");
      headingEl.createEl("h3", { text: heading });
    }
    return {
      addSetting(cb) {
        const setting = new import_obsidian.Setting(containerEl);
        cb(setting);
      }
    };
  }
}

// src/settings-tab.ts
var ZenModeSettingTab = class extends import_obsidian2.PluginSettingTab {
  /**
   * Creates a new settings tab instance.
   * @param app - The Obsidian app instance
   * @param plugin - The Zen Mode plugin instance
   */
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  /**
   * Displays the settings tab UI.
   * Creates all setting controls and registers change handlers.
   */
  display() {
    const { containerEl } = this;
    containerEl.empty();
    const generalGroup = createSettingsGroup(
      containerEl,
      void 0,
      "zenmode"
    );
    generalGroup.addSetting((setting) => {
      setting.setName("Full screen").setDesc(
        "Automatically enter fullscreen when enabling zen mode."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.fullscreen).onChange((value) => {
          this.plugin.settings.fullscreen = value;
          void this.plugin.saveSettings();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Show zen mode exit button").setDesc(
        "When to show the exit button in zen mode. You can also exit via the command palette, by pressing esc, or by assigning a hotkey to the 'toggle zen mode' command."
      ).addDropdown(
        (dropdown) => dropdown.addOption("always", "Always show").addOption("mobile-only", "Mobile only").addOption("never", "Never show").setValue(this.plugin.settings.exitButtonVisibility).onChange((value) => {
          this.plugin.settings.exitButtonVisibility = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Auto-hide zen mode exit button on desktop").setDesc(
        "When enabled, the exit button is hidden on desktop but reveals itself on hover as long as the zen mode exit button is on."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.autoHideButtonOnDesktop).onChange((value) => {
          this.plugin.settings.autoHideButtonOnDesktop = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Hide properties in zen mode").setDesc("Hide properties when zen mode is active.").addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.hideProperties).onChange((value) => {
          this.plugin.settings.hideProperties = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Hide inline title in zen mode").setDesc(
        "Hide the inline title (note title) when zen mode is active."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.hideInlineTitle).onChange((value) => {
          this.plugin.settings.hideInlineTitle = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Hide status bar in zen mode").setDesc("Hide the status bar when zen mode is active.").addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.hideStatusBar).onChange((value) => {
          this.plugin.settings.hideStatusBar = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Top padding").setDesc("Top padding in pixels (0-100).").addSlider(
        (slider) => slider.setLimits(0, 100, 1).setValue(this.plugin.settings.topPadding).setDynamicTooltip().onChange((value) => {
          this.plugin.settings.topPadding = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Bottom padding").setDesc("Bottom padding in pixels (0-100).").addSlider(
        (slider) => slider.setLimits(0, 100, 1).setValue(this.plugin.settings.bottomPadding).setDynamicTooltip().onChange((value) => {
          this.plugin.settings.bottomPadding = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
    generalGroup.addSetting((setting) => {
      setting.setName("Focused file mode").setDesc(
        "Only show the active file in zen mode, hide all other panes."
      ).addToggle(
        (toggle) => toggle.setValue(this.plugin.settings.focusedFileMode).onChange((value) => {
          this.plugin.settings.focusedFileMode = value;
          void this.plugin.saveSettings();
          this.plugin.refresh();
        })
      );
    });
  }
};

// src/utils/helpers.ts
function setCssProps(element, props) {
  Object.entries(props).forEach(([key, value]) => {
    const cssKey = key.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
    element.style.setProperty(cssKey, value);
  });
}

// src/main.ts
var ZenMode = class extends import_obsidian3.Plugin {
  constructor() {
    super(...arguments);
    // Safe: always initialized in onload
    this.hasButton = false;
    this._isTogglingZen = false;
    this.visualViewportResizeHandler = null;
    this._hasShownInitialHighlight = false;
    this._highlightTimeouts = [];
    this._wasZenMode = false;
    /**
     * Refreshes the plugin state after settings changes.
     * Updates styles, sidebar visibility, button visibility, and focused file mode.
     */
    this.refresh = () => {
      this.updateStyle();
      this.setSidebarVisibility();
      this.setButtonVisibility();
      void this.updateFocusedFileMode();
    };
    /**
     * Updates CSS classes and data attributes based on current zen mode settings.
     * Applies zen mode styling, padding, and feature flags to the document body.
     */
    this.updateStyle = () => {
      document.body.classList.toggle("zenmode-active", this.settings.zenMode);
      document.documentElement.style.setProperty(
        "--zen-mode-top-padding",
        `${this.settings.topPadding}px`
      );
      document.documentElement.style.setProperty(
        "--zen-mode-bottom-padding",
        `${this.settings.bottomPadding}px`
      );
      if (this.settings.zenMode) {
        document.body.classList.toggle(
          "zenmode-hide-properties",
          this.settings.hideProperties
        );
        document.body.classList.toggle(
          "zenmode-hide-status-bar",
          this.settings.hideStatusBar
        );
      } else {
        document.body.classList.remove("zenmode-hide-properties");
        document.body.classList.remove("zenmode-hide-status-bar");
      }
      if (this.settings.zenMode) {
        document.body.setAttribute(
          "data-zen-hide-inline-title",
          this.settings.hideInlineTitle.toString()
        );
        document.body.setAttribute(
          "data-zen-focused-file",
          this.settings.focusedFileMode.toString()
        );
      } else {
        document.body.removeAttribute("data-zen-hide-inline-title");
        document.body.removeAttribute("data-zen-focused-file");
      }
    };
  }
  /**
   * Called when the plugin is loaded.
   * Initializes settings, registers commands, ribbon icon, and event handlers.
   */
  async onload() {
    await this.loadSettings();
    this._wasZenMode = this.settings.zenMode;
    this.addSettingTab(new ZenModeSettingTab(this.app, this));
    this.addCommand({
      id: "toggle-zen-mode",
      name: "Toggle",
      callback: () => {
        void this.toggleZenMode();
      }
    });
    this.addRibbonIcon("expand", "Toggle zen mode", () => {
      void this.toggleZenMode();
    });
    this.registerEvent(
      this.app.workspace.on("active-leaf-change", () => {
        void this.updateFocusedFileMode();
      })
    );
    this.registerDomEvent(document, "keydown", (evt) => {
      var _a;
      if (evt.key === "Escape" && this.settings.zenMode) {
        const target = evt.target;
        if (target) {
          const cmEditor = target.closest(".cm-editor");
          if (cmEditor) {
            const vault = this.app.vault;
            if (((_a = vault.config) == null ? void 0 : _a.vimMode) === true) {
              return;
            }
          }
          if (target instanceof HTMLTextAreaElement && target.className && target.className.includes("excalidraw")) {
            return;
          }
        }
        const activeModal = document.querySelector(".modal");
        if (!activeModal) {
          void this.toggleZenMode();
          evt.preventDefault();
        }
      }
    });
    this.refresh();
  }
  /**
   * Called when the plugin is unloaded.
   * Cleans up event listeners, timeouts, and removes the exit button.
   */
  onunload() {
    this._highlightTimeouts.forEach((id) => clearTimeout(id));
    if (this.buttonContainer) {
      this.buttonContainer.remove();
    }
    if (this.visualViewportResizeHandler && window.visualViewport) {
      window.visualViewport.removeEventListener(
        "resize",
        this.visualViewportResizeHandler
      );
    }
    if (this.settings.zenMode) {
      this.settings.zenMode = false;
      this.updateStyle();
      this.setSidebarVisibility();
      window.dispatchEvent(new Event("resize"));
    }
  }
  /**
   * Loads settings from disk, merging with default settings.
   */
  async loadSettings() {
    const loadedData = await this.loadData();
    this.settings = { ...DEFAULT_SETTINGS, ...loadedData };
  }
  /**
   * Saves current settings to disk.
   */
  async saveSettings() {
    await this.saveData(this.settings);
  }
  /**
   * Manages sidebar visibility based on zen mode state.
   * When entering zen mode, saves current sidebar state and collapses sidebars.
   * When exiting zen mode, restores sidebars to their previous state.
   */
  setSidebarVisibility() {
    if (this.settings.zenMode === this._wasZenMode) {
      return;
    }
    const app = this.app;
    if (app.workspace.leftSplit == void 0 || app.workspace.rightSplit == void 0) {
      return;
    }
    if (!this.settings.zenMode) {
      if (!this.settings.leftSidebar) {
        app.workspace.leftSplit.expand();
      }
      if (!this.settings.rightSidebar) {
        app.workspace.rightSplit.expand();
      }
    } else {
      this.settings.rightSidebar = this.app.workspace.rightSplit.collapsed;
      this.settings.leftSidebar = this.app.workspace.leftSplit.collapsed;
      if (app.workspace.leftSplit.collapsed != this.settings.zenMode) {
        app.workspace.leftSplit.collapse();
      }
      if (app.workspace.rightSplit.collapsed != this.settings.zenMode) {
        app.workspace.rightSplit.collapse();
      }
    }
    this._wasZenMode = this.settings.zenMode;
  }
  /**
   * Creates the zen mode exit button and registers event listeners for positioning.
   * The button allows users to exit zen mode and adjusts position for mobile navigation bars.
   */
  createButton() {
    this.buttonContainer = document.createElement("div");
    this.buttonContainer.classList.add("zenmode-button");
    this.button = new import_obsidian3.ButtonComponent(this.buttonContainer);
    this.button.setIcon("shrink");
    this.button.onClick(() => {
      void this.toggleZenMode();
    });
    document.body.appendChild(this.buttonContainer);
    this.adjustButtonPosition();
    this.registerDomEvent(window, "resize", () => {
      this.adjustButtonPosition();
    });
    if (window.visualViewport) {
      this.visualViewportResizeHandler = () => {
        this.adjustButtonPosition();
      };
      window.visualViewport.addEventListener(
        "resize",
        this.visualViewportResizeHandler
      );
    }
  }
  /**
   * Adjusts the exit button position on mobile devices to account for navigation bars.
   * Calculates safe bottom offset using visual viewport API to handle Android navigation bars
   * that may not be detected by CSS safe-area-inset.
   */
  adjustButtonPosition() {
    var _a;
    if (!this.buttonContainer || !document.body.classList.contains("is-mobile")) {
      return;
    }
    const viewportHeight = ((_a = window.visualViewport) == null ? void 0 : _a.height) || window.innerHeight;
    const windowHeight = window.outerHeight;
    const navigationBarHeight = Math.max(0, windowHeight - viewportHeight);
    const minBottomOffset = 60;
    const calculatedOffset = Math.max(
      minBottomOffset,
      navigationBarHeight + 10
    );
    setCssProps(this.buttonContainer, { bottom: `${calculatedOffset}px` });
  }
  /**
   * Controls the visibility of the zen mode exit button based on settings.
   * Handles button creation, auto-hide behavior on desktop, and initial highlight animation.
   */
  setButtonVisibility() {
    const isMobile = document.body.classList.contains("is-mobile");
    const shouldShow = this.settings.zenMode && (this.settings.exitButtonVisibility === "always" || this.settings.exitButtonVisibility === "mobile-only" && isMobile);
    if (shouldShow) {
      if (!this.hasButton) {
        this.createButton();
        this.hasButton = true;
      }
      this.buttonContainer.classList.add("zenmode-button-visible");
      if (this.settings.autoHideButtonOnDesktop && !isMobile && this.settings.exitButtonVisibility === "always") {
        this.buttonContainer.classList.add("zenmode-button-auto-hide");
        if (!this._hasShownInitialHighlight) {
          this.buttonContainer.classList.add(
            "zenmode-button-initial-highlight"
          );
          this._hasShownInitialHighlight = true;
          const timeout1 = window.setTimeout(() => {
            if (this.buttonContainer) {
              this.buttonContainer.classList.remove(
                "zenmode-button-initial-highlight"
              );
              const timeout2 = window.setTimeout(() => {
                if (this.buttonContainer) {
                  this.buttonContainer.classList.add(
                    "zenmode-button-fade-out"
                  );
                }
              }, 300);
              this._highlightTimeouts.push(timeout2);
            }
          }, 1500);
          this._highlightTimeouts.push(timeout1);
        }
      } else {
        this.buttonContainer.classList.remove(
          "zenmode-button-auto-hide"
        );
        this.buttonContainer.classList.remove(
          "zenmode-button-initial-highlight"
        );
        this.buttonContainer.classList.remove(
          "zenmode-button-fade-out"
        );
      }
      this.adjustButtonPosition();
    } else {
      if (this.hasButton) {
        this.buttonContainer.classList.remove(
          "zenmode-button-visible"
        );
      }
    }
  }
  /**
   * Helper function to get the tab container from a workspace leaf.
   * Returns null if the leaf doesn't have a valid container or tab container.
   */
  getTabContainerFromLeaf(leaf) {
    var _a;
    if (!leaf) return null;
    const leafWithContainer = leaf;
    const leafContainer = (_a = leafWithContainer.containerEl) != null ? _a : null;
    if (!leafContainer) return null;
    const tabContainer = leafContainer.closest(".workspace-tabs");
    if (!tabContainer || !(tabContainer instanceof HTMLElement))
      return null;
    return tabContainer;
  }
  /**
   * Finds and reveals a pinned tab if one exists.
   * This should be called BEFORE entering zen mode to prevent new tabs from being created.
   */
  async revealPinnedTabIfExists() {
    var _a;
    try {
      const markdownLeaves = this.app.workspace.getLeavesOfType("markdown");
      for (const leaf of markdownLeaves) {
        const leafWithPinned = leaf;
        let isPinned = false;
        if (leafWithPinned.pinned === true) {
          isPinned = true;
        } else if ((_a = leafWithPinned.view) == null ? void 0 : _a.getState) {
          const state = leafWithPinned.view.getState();
          if (state.pinned === true) {
            isPinned = true;
          }
        }
        const leafWithContainer = leaf;
        if (leafWithContainer.containerEl) {
          const tabHeader = leafWithContainer.containerEl.querySelector(
            ".workspace-tab-header"
          );
          if (tabHeader && tabHeader instanceof HTMLElement) {
            if (tabHeader.classList.contains("is-pinned") || tabHeader.hasAttribute("data-pinned")) {
              isPinned = true;
            }
          }
        }
        if (isPinned) {
          void this.app.workspace.revealLeaf(leaf);
          await new Promise((resolve) => {
            requestAnimationFrame(() => {
              requestAnimationFrame(() => resolve());
            });
          });
          return;
        }
      }
    } catch (e) {
    }
  }
  /**
   * Helper function to find the active tab container by checking the DOM.
   * Looks for tabs with the 'is-active' class or visible active tab headers.
   */
  findActiveTabContainerFromDOM() {
    const activeTabHeader = document.querySelector(
      ".workspace-tab-header.is-active"
    );
    if (activeTabHeader) {
      const tabContainer = activeTabHeader.closest(".workspace-tabs");
      if (tabContainer && tabContainer instanceof HTMLElement) {
        return tabContainer;
      }
    }
    const allTabContainers = Array.from(
      document.querySelectorAll(".workspace-tabs")
    );
    for (const container of allTabContainers) {
      const el = container;
      if (el.offsetParent !== null && !el.classList.contains("zenmode-tab-hidden")) {
        return el;
      }
    }
    return null;
  }
  /**
   * Updates focused file mode visibility.
   * When enabled, hides all workspace tab containers except the one containing the active leaf,
   * showing only the currently focused file. When disabled, restores all tab containers.
   * Uses multiple fallback methods to handle pinned tabs and edge cases.
   */
  async updateFocusedFileMode() {
    if (!this.settings.zenMode || !this.settings.focusedFileMode) {
      const allTabContainers2 = document.querySelectorAll(".workspace-tabs");
      allTabContainers2.forEach((container) => {
        const el = container;
        el.classList.remove("zenmode-tab-hidden");
        el.classList.remove("zenmode-tab-active");
        setCssProps(el, { display: "", width: "", flex: "" });
      });
      return;
    }
    await this.revealPinnedTabIfExists();
    const allTabContainers = Array.from(
      document.querySelectorAll(".workspace-tabs")
    );
    let activeTabContainer = null;
    for (const container of allTabContainers) {
      const el = container;
      const pinnedTabs = Array.from(
        el.querySelectorAll(
          ".workspace-tab-header.is-pinned, .workspace-tab-header[data-pinned='true']"
        )
      );
      if (pinnedTabs.length > 0) {
        activeTabContainer = el;
        break;
      }
    }
    if (!activeTabContainer) {
      const mostRecentLeaf = this.app.workspace.getMostRecentLeaf();
      if (mostRecentLeaf) {
        activeTabContainer = this.getTabContainerFromLeaf(mostRecentLeaf);
      }
    }
    if (!activeTabContainer) {
      const activeTabFromDOM = this.findActiveTabContainerFromDOM();
      if (activeTabFromDOM) {
        activeTabContainer = activeTabFromDOM;
      }
    }
    if (!activeTabContainer) {
      return;
    }
    allTabContainers.forEach((tabContainer) => {
      const el = tabContainer;
      if (tabContainer === activeTabContainer) {
        el.classList.remove("zenmode-tab-hidden");
        setCssProps(el, {
          display: "",
          width: "100%",
          flex: "1 1 100%"
        });
      } else {
        el.classList.add("zenmode-tab-hidden");
        setCssProps(el, { display: "none" });
      }
    });
  }
  /**
   * Toggles zen mode on or off.
   * Handles fullscreen entry/exit if enabled, updates settings, and refreshes the UI.
   * Includes guard against concurrent invocations to prevent race conditions.
   */
  async toggleZenMode() {
    if (this._isTogglingZen) {
      return;
    }
    this._isTogglingZen = true;
    try {
      const enteringZenMode = !this.settings.zenMode;
      if (!enteringZenMode) {
        this._hasShownInitialHighlight = false;
      }
      if (enteringZenMode) {
        if (this.settings.focusedFileMode) {
          await this.revealPinnedTabIfExists();
        }
        if (this.settings.fullscreen && document.documentElement.requestFullscreen) {
          try {
            await document.documentElement.requestFullscreen();
            await new Promise(
              (resolve) => requestAnimationFrame(resolve)
            );
          } catch (e) {
          }
        }
        this.settings.zenMode = true;
        await this.saveSettings();
        this.refresh();
      } else {
        if (document.fullscreenElement && document.exitFullscreen) {
          try {
            await document.exitFullscreen();
            await new Promise(
              (resolve) => requestAnimationFrame(resolve)
            );
          } catch (e) {
          }
        }
        this.settings.zenMode = false;
        await this.saveSettings();
        this.refresh();
      }
    } finally {
      this._isTogglingZen = false;
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy9zZXR0aW5ncy10YWIudHMiLCAic3JjL3V0aWxzL3NldHRpbmdzLWNvbXBhdC50cyIsICJzcmMvdXRpbHMvaGVscGVycy50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQnV0dG9uQ29tcG9uZW50LCBQbHVnaW4sIFdvcmtzcGFjZUxlYWYgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MsIHR5cGUgWmVuTW9kZVNldHRpbmdzIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFplbk1vZGVTZXR0aW5nVGFiIH0gZnJvbSBcIi4vc2V0dGluZ3MtdGFiXCI7XG5pbXBvcnQgeyBzZXRDc3NQcm9wcyB9IGZyb20gXCIuL3V0aWxzL2hlbHBlcnNcIjtcblxuLyoqXG4gKiBaZW4gTW9kZSBwbHVnaW4gZm9yIE9ic2lkaWFuLlxuICogSGlkZXMgbW9zdCBVSSBlbGVtZW50cyB0byBlbmFibGUgZm9jdXNlZCBjb250ZW50IGNvbnN1bXB0aW9uIGFuZCBwcmVzZW50YXRpb25zLlxuICogUHJvdmlkZXMgYSBcInplbiBtb2RlXCIgdGhhdCBoaWRlcyBhbGwgVUkgZWxlbWVudHMgZXhjZXB0IHRoZSBjdXJyZW50IHRleHQgZmlsZSBvciBkb2N1bWVudCxcbiAqIGxlYXZpbmcgb25seSBhIHNpbmdsZSBidXR0b24gdG8gcmVzdG9yZSBhbGwgVUkuIE9uIGRlc2t0b3AsIGl0IGFsc28gY29sbGFwc2VzIGFuZCByZXN0b3Jlc1xuICogc2lkZWJhcnMgd2hlbiB0b2dnbGVkLCBhbGxvd2luZyBxdWljayBzd2l0Y2hpbmcgZnJvbSBhbiBlZGl0aW5nLWZyaWVuZGx5IGV4cGVyaWVuY2UgdG9cbiAqIGEgdmlld2luZy1mcmllbmRseSBleHBlcmllbmNlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBaZW5Nb2RlIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3MhOiBaZW5Nb2RlU2V0dGluZ3M7IC8vIFNhZmU6IGFsd2F5cyBpbml0aWFsaXplZCBpbiBvbmxvYWRcblx0aGFzQnV0dG9uOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgYnV0dG9uPzogQnV0dG9uQ29tcG9uZW50O1xuXHRwcml2YXRlIGJ1dHRvbkNvbnRhaW5lcj86IEhUTUxEaXZFbGVtZW50O1xuXHRwcml2YXRlIF9pc1RvZ2dsaW5nWmVuOiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgdmlzdWFsVmlld3BvcnRSZXNpemVIYW5kbGVyOiAoKCkgPT4gdm9pZCkgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBfaGFzU2hvd25Jbml0aWFsSGlnaGxpZ2h0OiBib29sZWFuID0gZmFsc2U7XG5cdHByaXZhdGUgX2hpZ2hsaWdodFRpbWVvdXRzOiBudW1iZXJbXSA9IFtdO1xuXHRwcml2YXRlIF93YXNaZW5Nb2RlOiBib29sZWFuID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIENhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaXMgbG9hZGVkLlxuXHQgKiBJbml0aWFsaXplcyBzZXR0aW5ncywgcmVnaXN0ZXJzIGNvbW1hbmRzLCByaWJib24gaWNvbiwgYW5kIGV2ZW50IGhhbmRsZXJzLlxuXHQgKi9cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdC8vIGxvYWQgc2V0dGluZ3Ncblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0Ly8gSW5pdGlhbGl6ZSB6ZW4gbW9kZSB0cmFja2luZ1xuXHRcdHRoaXMuX3dhc1plbk1vZGUgPSB0aGlzLnNldHRpbmdzLnplbk1vZGU7XG5cblx0XHQvLyBhZGQgdGhlIHNldHRpbmdzIHRhYlxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgWmVuTW9kZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0XHQvLyBhZGQgdGhlIHRvZ2dsZSBvbi9vZmYgY29tbWFuZFxuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcblx0XHRcdGlkOiBcInRvZ2dsZS16ZW4tbW9kZVwiLFxuXHRcdFx0bmFtZTogXCJUb2dnbGVcIixcblx0XHRcdGNhbGxiYWNrOiAoKSA9PiB7XG5cdFx0XHRcdHZvaWQgdGhpcy50b2dnbGVaZW5Nb2RlKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFwiZXhwYW5kXCIsIFwiVG9nZ2xlIHplbiBtb2RlXCIsICgpID0+IHtcblx0XHRcdHZvaWQgdGhpcy50b2dnbGVaZW5Nb2RlKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBSZWdpc3RlciBldmVudCBsaXN0ZW5lciBmb3IgYWN0aXZlIGxlYWYgY2hhbmdlcyAoZm9yIGZvY3VzZWQgZmlsZSBtb2RlKVxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImFjdGl2ZS1sZWFmLWNoYW5nZVwiLCAoKSA9PiB7XG5cdFx0XHRcdHZvaWQgdGhpcy51cGRhdGVGb2N1c2VkRmlsZU1vZGUoKTtcblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdC8vIFJlZ2lzdGVyIEVTQyBrZXkgdG8gZXhpdCBaZW4gbW9kZVxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgXCJrZXlkb3duXCIsIChldnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcblx0XHRcdGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiICYmIHRoaXMuc2V0dGluZ3MuemVuTW9kZSkge1xuXHRcdFx0XHQvLyBEb24ndCBpbnRlcmZlcmUgaWYgdmltIG1vZGUgaXMgYWN0aXZlICh2aW0gdXNlcyBFU0MgZnJlcXVlbnRseSlcblx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGhlIGV2ZW50IHRhcmdldCBpcyB3aXRoaW4gYSBDb2RlTWlycm9yIGVkaXRvciB3aXRoIHZpbSBlbmFibGVkXG5cdFx0XHRcdGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRcdGlmICh0YXJnZXQpIHtcblx0XHRcdFx0XHRjb25zdCBjbUVkaXRvciA9IHRhcmdldC5jbG9zZXN0KFwiLmNtLWVkaXRvclwiKTtcblx0XHRcdFx0XHRpZiAoY21FZGl0b3IpIHtcblx0XHRcdFx0XHRcdC8vIENoZWNrIGlmIHZpbSBtb2RlIGlzIGVuYWJsZWQgaW4gT2JzaWRpYW4gc2V0dGluZ3Ncblx0XHRcdFx0XHRcdC8vIE5vdGU6IHZhdWx0LmNvbmZpZyBpcyBub3QgaW4gcHVibGljIEFQSSB0eXBlcywgYnV0IGV4aXN0cyBhdCBydW50aW1lXG5cdFx0XHRcdFx0XHRjb25zdCB2YXVsdCA9IHRoaXMuYXBwXG5cdFx0XHRcdFx0XHRcdC52YXVsdCBhcyB0eXBlb2YgdGhpcy5hcHAudmF1bHQgJiB7XG5cdFx0XHRcdFx0XHRcdGNvbmZpZz86IHsgdmltTW9kZT86IGJvb2xlYW4gfTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRpZiAodmF1bHQuY29uZmlnPy52aW1Nb2RlID09PSB0cnVlKSB7XG5cdFx0XHRcdFx0XHRcdC8vIFZpbSBtb2RlIGlzIGVuYWJsZWQsIGRvbid0IGludGVyZmVyZSB3aXRoIEVTQ1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gRG9uJ3QgZXhpdCBjb21wYWN0IG1vZGUgd2l0aCBlc2NhcGUgaW4gYW4gZXhjYWxpZHJhdyB0ZXh0Ym94ZXMgYXMgdGhleSB1c2UgdGhlIGVzY2FwZSBob3RrZXkgdG8gbGVhdmUgb3V0IG9mIGl0c2VsZi5cblx0XHRcdFx0XHQvLyBUaGUgcmVzdWx0aW5nIGJlaGF2aW91ciBpcyB2ZXJ5IGNvbmZ1c2luZy4gKFRleHRib3ggaXMgc3RpbGwgZm9jdXMgYnV0IHRoZSB6ZW5tb2RlIGRpc2FibGVzKVxuXHRcdFx0XHRcdGlmIChcblx0XHRcdFx0XHRcdHRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQgJiZcblx0XHRcdFx0XHRcdHRhcmdldC5jbGFzc05hbWUgJiZcblx0XHRcdFx0XHRcdHRhcmdldC5jbGFzc05hbWUuaW5jbHVkZXMoXCJleGNhbGlkcmF3XCIpXG5cdFx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIE9ubHkgZXhpdCBpZiBubyBtb2RhbCBpcyBvcGVuICh0byBhdm9pZCBpbnRlcmZlcmluZyB3aXRoIE9ic2lkaWFuIG1vZGFscylcblx0XHRcdFx0Y29uc3QgYWN0aXZlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsXCIpO1xuXHRcdFx0XHRpZiAoIWFjdGl2ZU1vZGFsKSB7XG5cdFx0XHRcdFx0dm9pZCB0aGlzLnRvZ2dsZVplbk1vZGUoKTtcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH1cblxuXHQvKipcblx0ICogQ2FsbGVkIHdoZW4gdGhlIHBsdWdpbiBpcyB1bmxvYWRlZC5cblx0ICogQ2xlYW5zIHVwIGV2ZW50IGxpc3RlbmVycywgdGltZW91dHMsIGFuZCByZW1vdmVzIHRoZSBleGl0IGJ1dHRvbi5cblx0ICovXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIENsZWFyIGFueSBwZW5kaW5nIGFuaW1hdGlvbiB0aW1lb3V0c1xuXHRcdHRoaXMuX2hpZ2hsaWdodFRpbWVvdXRzLmZvckVhY2goKGlkKSA9PiBjbGVhclRpbWVvdXQoaWQpKTtcblx0XHRpZiAodGhpcy5idXR0b25Db250YWluZXIpIHtcblx0XHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyLnJlbW92ZSgpO1xuXHRcdH1cblx0XHQvLyBDbGVhbiB1cCB2aXN1YWxWaWV3cG9ydCBldmVudCBsaXN0ZW5lclxuXHRcdGlmICh0aGlzLnZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlciAmJiB3aW5kb3cudmlzdWFsVmlld3BvcnQpIHtcblx0XHRcdHdpbmRvdy52aXN1YWxWaWV3cG9ydC5yZW1vdmVFdmVudExpc3RlbmVyKFxuXHRcdFx0XHRcInJlc2l6ZVwiLFxuXHRcdFx0XHR0aGlzLnZpc3VhbFZpZXdwb3J0UmVzaXplSGFuZGxlclxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBFeGl0IHplbiBtb2RlIGlmIGFjdGl2ZSB0byByZXN0b3JlIFVJIHN0YXRlXG5cdFx0aWYgKHRoaXMuc2V0dGluZ3MuemVuTW9kZSkge1xuXHRcdFx0dGhpcy5zZXR0aW5ncy56ZW5Nb2RlID0gZmFsc2U7XG5cdFx0XHR0aGlzLnVwZGF0ZVN0eWxlKCk7XG5cdFx0XHR0aGlzLnNldFNpZGViYXJWaXNpYmlsaXR5KCk7XG5cdFx0XHQvLyBUcmlnZ2VyIFVJIHJlZnJlc2ggdG8gZW5zdXJlIGxheW91dCB1cGRhdGVzXG5cdFx0XHR3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoXCJyZXNpemVcIikpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBMb2FkcyBzZXR0aW5ncyBmcm9tIGRpc2ssIG1lcmdpbmcgd2l0aCBkZWZhdWx0IHNldHRpbmdzLlxuXHQgKi9cblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdGNvbnN0IGxvYWRlZERhdGEgPVxuXHRcdFx0KGF3YWl0IHRoaXMubG9hZERhdGEoKSkgYXMgUGFydGlhbDxaZW5Nb2RlU2V0dGluZ3M+IHwgbnVsbDtcblx0XHR0aGlzLnNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTLCAuLi5sb2FkZWREYXRhIH07XG5cdH1cblxuXHQvKipcblx0ICogU2F2ZXMgY3VycmVudCBzZXR0aW5ncyB0byBkaXNrLlxuXHQgKi9cblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cblxuXHQvKipcblx0ICogUmVmcmVzaGVzIHRoZSBwbHVnaW4gc3RhdGUgYWZ0ZXIgc2V0dGluZ3MgY2hhbmdlcy5cblx0ICogVXBkYXRlcyBzdHlsZXMsIHNpZGViYXIgdmlzaWJpbGl0eSwgYnV0dG9uIHZpc2liaWxpdHksIGFuZCBmb2N1c2VkIGZpbGUgbW9kZS5cblx0ICovXG5cdHJlZnJlc2ggPSAoKSA9PiB7XG5cdFx0Ly8gcmUtbG9hZCB0aGUgc3R5bGVcblx0XHR0aGlzLnVwZGF0ZVN0eWxlKCk7XG5cdFx0dGhpcy5zZXRTaWRlYmFyVmlzaWJpbGl0eSgpO1xuXHRcdHRoaXMuc2V0QnV0dG9uVmlzaWJpbGl0eSgpO1xuXHRcdHZvaWQgdGhpcy51cGRhdGVGb2N1c2VkRmlsZU1vZGUoKTtcblx0fTtcblxuXHQvKipcblx0ICogTWFuYWdlcyBzaWRlYmFyIHZpc2liaWxpdHkgYmFzZWQgb24gemVuIG1vZGUgc3RhdGUuXG5cdCAqIFdoZW4gZW50ZXJpbmcgemVuIG1vZGUsIHNhdmVzIGN1cnJlbnQgc2lkZWJhciBzdGF0ZSBhbmQgY29sbGFwc2VzIHNpZGViYXJzLlxuXHQgKiBXaGVuIGV4aXRpbmcgemVuIG1vZGUsIHJlc3RvcmVzIHNpZGViYXJzIHRvIHRoZWlyIHByZXZpb3VzIHN0YXRlLlxuXHQgKi9cblx0c2V0U2lkZWJhclZpc2liaWxpdHkoKSB7XG5cdFx0Ly8gT25seSBydW4gc2lkZWJhciBsb2dpYyB3aGVuIHRyYW5zaXRpb25pbmcgaW50byBvciBvdXQgb2YgemVuIG1vZGVcblx0XHRpZiAodGhpcy5zZXR0aW5ncy56ZW5Nb2RlID09PSB0aGlzLl93YXNaZW5Nb2RlKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly9jb2xsYXBzZSBzaWRlYmFycyBpZiB6ZW4gbW9kZSBpcyBhY3RpdmVcblx0XHRjb25zdCBhcHAgPSB0aGlzLmFwcDtcblxuXHRcdGlmIChcblx0XHRcdGFwcC53b3Jrc3BhY2UubGVmdFNwbGl0ID09IHVuZGVmaW5lZCB8fFxuXHRcdFx0YXBwLndvcmtzcGFjZS5yaWdodFNwbGl0ID09IHVuZGVmaW5lZFxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5zZXR0aW5ncy56ZW5Nb2RlKSB7XG5cdFx0XHRpZiAoIXRoaXMuc2V0dGluZ3MubGVmdFNpZGViYXIpIHtcblx0XHRcdFx0YXBwLndvcmtzcGFjZS5sZWZ0U3BsaXQuZXhwYW5kKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoIXRoaXMuc2V0dGluZ3MucmlnaHRTaWRlYmFyKSB7XG5cdFx0XHRcdGFwcC53b3Jrc3BhY2UucmlnaHRTcGxpdC5leHBhbmQoKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5zZXR0aW5ncy5yaWdodFNpZGViYXIgPVxuXHRcdFx0XHR0aGlzLmFwcC53b3Jrc3BhY2UucmlnaHRTcGxpdC5jb2xsYXBzZWQ7XG5cdFx0XHR0aGlzLnNldHRpbmdzLmxlZnRTaWRlYmFyID0gdGhpcy5hcHAud29ya3NwYWNlLmxlZnRTcGxpdC5jb2xsYXBzZWQ7XG5cblx0XHRcdGlmIChhcHAud29ya3NwYWNlLmxlZnRTcGxpdC5jb2xsYXBzZWQgIT0gdGhpcy5zZXR0aW5ncy56ZW5Nb2RlKSB7XG5cdFx0XHRcdGFwcC53b3Jrc3BhY2UubGVmdFNwbGl0LmNvbGxhcHNlKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChhcHAud29ya3NwYWNlLnJpZ2h0U3BsaXQuY29sbGFwc2VkICE9IHRoaXMuc2V0dGluZ3MuemVuTW9kZSkge1xuXHRcdFx0XHRhcHAud29ya3NwYWNlLnJpZ2h0U3BsaXQuY29sbGFwc2UoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdHJhY2tpbmcgYWZ0ZXIgcGVyZm9ybWluZyBzaWRlYmFyIG9wZXJhdGlvbnNcblx0XHR0aGlzLl93YXNaZW5Nb2RlID0gdGhpcy5zZXR0aW5ncy56ZW5Nb2RlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVwZGF0ZXMgQ1NTIGNsYXNzZXMgYW5kIGRhdGEgYXR0cmlidXRlcyBiYXNlZCBvbiBjdXJyZW50IHplbiBtb2RlIHNldHRpbmdzLlxuXHQgKiBBcHBsaWVzIHplbiBtb2RlIHN0eWxpbmcsIHBhZGRpbmcsIGFuZCBmZWF0dXJlIGZsYWdzIHRvIHRoZSBkb2N1bWVudCBib2R5LlxuXHQgKi9cblx0dXBkYXRlU3R5bGUgPSAoKSA9PiB7XG5cdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiemVubW9kZS1hY3RpdmVcIiwgdGhpcy5zZXR0aW5ncy56ZW5Nb2RlKTtcblxuXHRcdC8vIFNldCBDU1MgY3VzdG9tIHByb3BlcnRpZXMgZm9yIHBhZGRpbmdcblx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoXG5cdFx0XHRcIi0temVuLW1vZGUtdG9wLXBhZGRpbmdcIixcblx0XHRcdGAke3RoaXMuc2V0dGluZ3MudG9wUGFkZGluZ31weGBcblx0XHQpO1xuXHRcdGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShcblx0XHRcdFwiLS16ZW4tbW9kZS1ib3R0b20tcGFkZGluZ1wiLFxuXHRcdFx0YCR7dGhpcy5zZXR0aW5ncy5ib3R0b21QYWRkaW5nfXB4YFxuXHRcdCk7XG5cblx0XHQvLyBVc2UgY2xhc3MgdG9nZ2xlIGZvciBwcm9wZXJ0aWVzIGhpZGluZyAobGlrZSBIaWRlciBwbHVnaW4pXG5cdFx0Ly8gVG9nZ2xlIHRoZSBjbGFzcyBiYXNlZCBvbiBzZXR0aW5nIChvbmx5IHdoZW4gemVuIG1vZGUgaXMgYWN0aXZlKVxuXHRcdGlmICh0aGlzLnNldHRpbmdzLnplbk1vZGUpIHtcblx0XHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcblx0XHRcdFx0XCJ6ZW5tb2RlLWhpZGUtcHJvcGVydGllc1wiLFxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZGVQcm9wZXJ0aWVzXG5cdFx0XHQpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFxuXHRcdFx0XHRcInplbm1vZGUtaGlkZS1zdGF0dXMtYmFyXCIsXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuaGlkZVN0YXR1c0JhclxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwiemVubW9kZS1oaWRlLXByb3BlcnRpZXNcIik7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJ6ZW5tb2RlLWhpZGUtc3RhdHVzLWJhclwiKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5zZXR0aW5ncy56ZW5Nb2RlKSB7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZShcblx0XHRcdFx0XCJkYXRhLXplbi1oaWRlLWlubGluZS10aXRsZVwiLFxuXHRcdFx0XHR0aGlzLnNldHRpbmdzLmhpZGVJbmxpbmVUaXRsZS50b1N0cmluZygpXG5cdFx0XHQpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5zZXRBdHRyaWJ1dGUoXG5cdFx0XHRcdFwiZGF0YS16ZW4tZm9jdXNlZC1maWxlXCIsXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuZm9jdXNlZEZpbGVNb2RlLnRvU3RyaW5nKClcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIFJlbW92ZSBkYXRhIGF0dHJpYnV0ZXMgd2hlbiB6ZW4gbW9kZSBpcyBvZmZcblx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS16ZW4taGlkZS1pbmxpbmUtdGl0bGVcIik7XG5cdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtemVuLWZvY3VzZWQtZmlsZVwiKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIHplbiBtb2RlIGV4aXQgYnV0dG9uIGFuZCByZWdpc3RlcnMgZXZlbnQgbGlzdGVuZXJzIGZvciBwb3NpdGlvbmluZy5cblx0ICogVGhlIGJ1dHRvbiBhbGxvd3MgdXNlcnMgdG8gZXhpdCB6ZW4gbW9kZSBhbmQgYWRqdXN0cyBwb3NpdGlvbiBmb3IgbW9iaWxlIG5hdmlnYXRpb24gYmFycy5cblx0ICovXG5cdGNyZWF0ZUJ1dHRvbigpIHtcblx0XHR0aGlzLmJ1dHRvbkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0dGhpcy5idXR0b25Db250YWluZXIuY2xhc3NMaXN0LmFkZChcInplbm1vZGUtYnV0dG9uXCIpO1xuXG5cdFx0dGhpcy5idXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHRoaXMuYnV0dG9uQ29udGFpbmVyKTtcblx0XHR0aGlzLmJ1dHRvbi5zZXRJY29uKFwic2hyaW5rXCIpO1xuXHRcdHRoaXMuYnV0dG9uLm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0dm9pZCB0aGlzLnRvZ2dsZVplbk1vZGUoKTtcblx0XHR9KTtcblxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5idXR0b25Db250YWluZXIpO1xuXG5cdFx0Ly8gQWRqdXN0IGJ1dHRvbiBwb3NpdGlvbiBmb3IgbW9iaWxlIG5hdmlnYXRpb24gYmFyXG5cdFx0dGhpcy5hZGp1c3RCdXR0b25Qb3NpdGlvbigpO1xuXG5cdFx0Ly8gTGlzdGVuIGZvciByZXNpemUgZXZlbnRzIHRvIGFkanVzdCBwb3NpdGlvbiB3aGVuIG5hdmlnYXRpb24gYmFyIGFwcGVhcnMvZGlzYXBwZWFyc1xuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudCh3aW5kb3csIFwicmVzaXplXCIsICgpID0+IHtcblx0XHRcdHRoaXMuYWRqdXN0QnV0dG9uUG9zaXRpb24oKTtcblx0XHR9KTtcblxuXHRcdC8vIEFsc28gbGlzdGVuIHRvIHZpc3VhbFZpZXdwb3J0IHJlc2l6ZSBmb3IgYmV0dGVyIG1vYmlsZSBzdXBwb3J0XG5cdFx0aWYgKHdpbmRvdy52aXN1YWxWaWV3cG9ydCkge1xuXHRcdFx0dGhpcy52aXN1YWxWaWV3cG9ydFJlc2l6ZUhhbmRsZXIgPSAoKSA9PiB7XG5cdFx0XHRcdHRoaXMuYWRqdXN0QnV0dG9uUG9zaXRpb24oKTtcblx0XHRcdH07XG5cdFx0XHR3aW5kb3cudmlzdWFsVmlld3BvcnQuYWRkRXZlbnRMaXN0ZW5lcihcblx0XHRcdFx0XCJyZXNpemVcIixcblx0XHRcdFx0dGhpcy52aXN1YWxWaWV3cG9ydFJlc2l6ZUhhbmRsZXJcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEFkanVzdHMgdGhlIGV4aXQgYnV0dG9uIHBvc2l0aW9uIG9uIG1vYmlsZSBkZXZpY2VzIHRvIGFjY291bnQgZm9yIG5hdmlnYXRpb24gYmFycy5cblx0ICogQ2FsY3VsYXRlcyBzYWZlIGJvdHRvbSBvZmZzZXQgdXNpbmcgdmlzdWFsIHZpZXdwb3J0IEFQSSB0byBoYW5kbGUgQW5kcm9pZCBuYXZpZ2F0aW9uIGJhcnNcblx0ICogdGhhdCBtYXkgbm90IGJlIGRldGVjdGVkIGJ5IENTUyBzYWZlLWFyZWEtaW5zZXQuXG5cdCAqL1xuXHRhZGp1c3RCdXR0b25Qb3NpdGlvbigpIHtcblx0XHRpZiAoXG5cdFx0XHQhdGhpcy5idXR0b25Db250YWluZXIgfHxcblx0XHRcdCFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucyhcImlzLW1vYmlsZVwiKVxuXHRcdCkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENhbGN1bGF0ZSBzYWZlIGJvdHRvbSBvZmZzZXQgZm9yIG1vYmlsZSBkZXZpY2VzXG5cdFx0Ly8gVGhpcyBhY2NvdW50cyBmb3IgQW5kcm9pZCBuYXZpZ2F0aW9uIGJhcnMgdGhhdCBtYXkgbm90IGJlIGRldGVjdGVkIGJ5IENTUyBzYWZlLWFyZWEtaW5zZXRcblx0XHRjb25zdCB2aWV3cG9ydEhlaWdodCA9XG5cdFx0XHR3aW5kb3cudmlzdWFsVmlld3BvcnQ/LmhlaWdodCB8fCB3aW5kb3cuaW5uZXJIZWlnaHQ7XG5cdFx0Y29uc3Qgd2luZG93SGVpZ2h0ID0gd2luZG93Lm91dGVySGVpZ2h0O1xuXHRcdGNvbnN0IG5hdmlnYXRpb25CYXJIZWlnaHQgPSBNYXRoLm1heCgwLCB3aW5kb3dIZWlnaHQgLSB2aWV3cG9ydEhlaWdodCk7XG5cblx0XHQvLyBVc2UgYSBtaW5pbXVtIG9mZnNldCB0byBlbnN1cmUgYnV0dG9uIGlzIGFsd2F5cyBhY2Nlc3NpYmxlXG5cdFx0Ly8gNjBweCBzaG91bGQgYmUgZW5vdWdoIHRvIGNsZWFyIG1vc3QgbmF2aWdhdGlvbiBiYXJzXG5cdFx0Y29uc3QgbWluQm90dG9tT2Zmc2V0ID0gNjA7XG5cdFx0Y29uc3QgY2FsY3VsYXRlZE9mZnNldCA9IE1hdGgubWF4KFxuXHRcdFx0bWluQm90dG9tT2Zmc2V0LFxuXHRcdFx0bmF2aWdhdGlvbkJhckhlaWdodCArIDEwXG5cdFx0KTtcblxuXHRcdC8vIEFwcGx5IHRoZSBvZmZzZXRcblx0XHRzZXRDc3NQcm9wcyh0aGlzLmJ1dHRvbkNvbnRhaW5lciwgeyBib3R0b206IGAke2NhbGN1bGF0ZWRPZmZzZXR9cHhgIH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnRyb2xzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB6ZW4gbW9kZSBleGl0IGJ1dHRvbiBiYXNlZCBvbiBzZXR0aW5ncy5cblx0ICogSGFuZGxlcyBidXR0b24gY3JlYXRpb24sIGF1dG8taGlkZSBiZWhhdmlvciBvbiBkZXNrdG9wLCBhbmQgaW5pdGlhbCBoaWdobGlnaHQgYW5pbWF0aW9uLlxuXHQgKi9cblx0c2V0QnV0dG9uVmlzaWJpbGl0eSgpIHtcblx0XHRjb25zdCBpc01vYmlsZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaXMtbW9iaWxlXCIpO1xuXHRcdGNvbnN0IHNob3VsZFNob3cgPVxuXHRcdFx0dGhpcy5zZXR0aW5ncy56ZW5Nb2RlICYmXG5cdFx0XHQodGhpcy5zZXR0aW5ncy5leGl0QnV0dG9uVmlzaWJpbGl0eSA9PT0gXCJhbHdheXNcIiB8fFxuXHRcdFx0XHQodGhpcy5zZXR0aW5ncy5leGl0QnV0dG9uVmlzaWJpbGl0eSA9PT0gXCJtb2JpbGUtb25seVwiICYmXG5cdFx0XHRcdFx0aXNNb2JpbGUpKTtcblxuXHRcdGlmIChzaG91bGRTaG93KSB7XG5cdFx0XHRpZiAoIXRoaXMuaGFzQnV0dG9uKSB7XG5cdFx0XHRcdHRoaXMuY3JlYXRlQnV0dG9uKCk7XG5cdFx0XHRcdHRoaXMuaGFzQnV0dG9uID0gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyIS5jbGFzc0xpc3QuYWRkKFwiemVubW9kZS1idXR0b24tdmlzaWJsZVwiKTtcblxuXHRcdFx0Ly8gQXBwbHkgYXV0by1oaWRlIGNsYXNzIGZvciBkZXNrdG9wIGhvdmVyIGJlaGF2aW9yXG5cdFx0XHQvLyBPbmx5IGFwcGxpZXMgd2hlbiBleGl0QnV0dG9uVmlzaWJpbGl0eSBpcyBcImFsd2F5c1wiIGFuZCBvbiBkZXNrdG9wXG5cdFx0XHRpZiAoXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuYXV0b0hpZGVCdXR0b25PbkRlc2t0b3AgJiZcblx0XHRcdFx0IWlzTW9iaWxlICYmXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuZXhpdEJ1dHRvblZpc2liaWxpdHkgPT09IFwiYWx3YXlzXCJcblx0XHRcdCkge1xuXHRcdFx0XHR0aGlzLmJ1dHRvbkNvbnRhaW5lciEuY2xhc3NMaXN0LmFkZChcInplbm1vZGUtYnV0dG9uLWF1dG8taGlkZVwiKTtcblxuXHRcdFx0XHQvLyBTaG93IGluaXRpYWwgaGlnaGxpZ2h0IGFuaW1hdGlvbiBvbiBmaXJzdCBlbnRyeSB0byBaZW4gbW9kZVxuXHRcdFx0XHRpZiAoIXRoaXMuX2hhc1Nob3duSW5pdGlhbEhpZ2hsaWdodCkge1xuXHRcdFx0XHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyIS5jbGFzc0xpc3QuYWRkKFxuXHRcdFx0XHRcdFx0XCJ6ZW5tb2RlLWJ1dHRvbi1pbml0aWFsLWhpZ2hsaWdodFwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR0aGlzLl9oYXNTaG93bkluaXRpYWxIaWdobGlnaHQgPSB0cnVlO1xuXG5cdFx0XHRcdFx0Ly8gUmVtb3ZlIGhpZ2hsaWdodCBjbGFzcyBhZnRlciBhbmltYXRpb24gY29tcGxldGVzLCB0aGVuIGZhZGUgb3V0XG5cdFx0XHRcdFx0Y29uc3QgdGltZW91dDEgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5idXR0b25Db250YWluZXIpIHtcblx0XHRcdFx0XHRcdFx0dGhpcy5idXR0b25Db250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcblx0XHRcdFx0XHRcdFx0XHRcInplbm1vZGUtYnV0dG9uLWluaXRpYWwtaGlnaGxpZ2h0XCJcblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0Ly8gU21hbGwgZGVsYXkgYmVmb3JlIGZhZGluZyBvdXRcblx0XHRcdFx0XHRcdFx0Y29uc3QgdGltZW91dDIgPSB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHRoaXMuYnV0dG9uQ29udGFpbmVyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmJ1dHRvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcInplbm1vZGUtYnV0dG9uLWZhZGUtb3V0XCJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCAzMDApO1xuXHRcdFx0XHRcdFx0XHR0aGlzLl9oaWdobGlnaHRUaW1lb3V0cy5wdXNoKHRpbWVvdXQyKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LCAxNTAwKTtcblx0XHRcdFx0XHR0aGlzLl9oaWdobGlnaHRUaW1lb3V0cy5wdXNoKHRpbWVvdXQxKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5idXR0b25Db250YWluZXIhLmNsYXNzTGlzdC5yZW1vdmUoXG5cdFx0XHRcdFx0XCJ6ZW5tb2RlLWJ1dHRvbi1hdXRvLWhpZGVcIlxuXHRcdFx0XHQpO1xuXHRcdFx0XHR0aGlzLmJ1dHRvbkNvbnRhaW5lciEuY2xhc3NMaXN0LnJlbW92ZShcblx0XHRcdFx0XHRcInplbm1vZGUtYnV0dG9uLWluaXRpYWwtaGlnaGxpZ2h0XCJcblx0XHRcdFx0KTtcblx0XHRcdFx0dGhpcy5idXR0b25Db250YWluZXIhLmNsYXNzTGlzdC5yZW1vdmUoXG5cdFx0XHRcdFx0XCJ6ZW5tb2RlLWJ1dHRvbi1mYWRlLW91dFwiXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFkanVzdCBwb3NpdGlvbiB3aGVuIGJ1dHRvbiBiZWNvbWVzIHZpc2libGVcblx0XHRcdHRoaXMuYWRqdXN0QnV0dG9uUG9zaXRpb24oKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHRoaXMuaGFzQnV0dG9uKSB7XG5cdFx0XHRcdHRoaXMuYnV0dG9uQ29udGFpbmVyIS5jbGFzc0xpc3QucmVtb3ZlKFxuXHRcdFx0XHRcdFwiemVubW9kZS1idXR0b24tdmlzaWJsZVwiXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgdGhlIHRhYiBjb250YWluZXIgZnJvbSBhIHdvcmtzcGFjZSBsZWFmLlxuXHQgKiBSZXR1cm5zIG51bGwgaWYgdGhlIGxlYWYgZG9lc24ndCBoYXZlIGEgdmFsaWQgY29udGFpbmVyIG9yIHRhYiBjb250YWluZXIuXG5cdCAqL1xuXHRwcml2YXRlIGdldFRhYkNvbnRhaW5lckZyb21MZWFmKFxuXHRcdGxlYWY6IFdvcmtzcGFjZUxlYWYgfCBudWxsXG5cdCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG5cdFx0aWYgKCFsZWFmKSByZXR1cm4gbnVsbDtcblxuXHRcdC8vIEZpbmQgdGhlIHdvcmtzcGFjZS10YWJzIGNvbnRhaW5lciB0aGF0IGhvbGRzIHRoZSBsZWFmXG5cdFx0Ly8gTm90ZTogY29udGFpbmVyRWwgaXMgYW4gaW50ZXJuYWwgT2JzaWRpYW4gQVBJIHByb3BlcnR5LCBub3QgZXhwb3NlZCBpbiBwdWJsaWMgdHlwZXNcblx0XHRpbnRlcmZhY2UgV29ya3NwYWNlTGVhZldpdGhDb250YWluZXIge1xuXHRcdFx0Y29udGFpbmVyRWw/OiBIVE1MRWxlbWVudDtcblx0XHR9XG5cdFx0Y29uc3QgbGVhZldpdGhDb250YWluZXIgPSBsZWFmIGFzIFdvcmtzcGFjZUxlYWZXaXRoQ29udGFpbmVyO1xuXHRcdGNvbnN0IGxlYWZDb250YWluZXIgPSBsZWFmV2l0aENvbnRhaW5lci5jb250YWluZXJFbCA/PyBudWxsO1xuXHRcdGlmICghbGVhZkNvbnRhaW5lcikgcmV0dXJuIG51bGw7XG5cblx0XHRjb25zdCB0YWJDb250YWluZXIgPSBsZWFmQ29udGFpbmVyLmNsb3Nlc3QoXCIud29ya3NwYWNlLXRhYnNcIik7XG5cdFx0aWYgKCF0YWJDb250YWluZXIgfHwgISh0YWJDb250YWluZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkpXG5cdFx0XHRyZXR1cm4gbnVsbDtcblxuXHRcdHJldHVybiB0YWJDb250YWluZXI7XG5cdH1cblxuXHQvKipcblx0ICogRmluZHMgYW5kIHJldmVhbHMgYSBwaW5uZWQgdGFiIGlmIG9uZSBleGlzdHMuXG5cdCAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCBCRUZPUkUgZW50ZXJpbmcgemVuIG1vZGUgdG8gcHJldmVudCBuZXcgdGFicyBmcm9tIGJlaW5nIGNyZWF0ZWQuXG5cdCAqL1xuXHRwcml2YXRlIGFzeW5jIHJldmVhbFBpbm5lZFRhYklmRXhpc3RzKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdHRyeSB7XG5cdFx0XHQvLyBVc2UgT2JzaWRpYW4gQVBJIHRvIGZpbmQgcGlubmVkIGxlYXZlc1xuXHRcdFx0Ly8gQ2hlY2sgYWxsIG1hcmtkb3duIGxlYXZlcyBhbmQgc2VlIGlmIGFueSBhcmUgcGlubmVkXG5cdFx0XHRjb25zdCBtYXJrZG93bkxlYXZlcyA9XG5cdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoXCJtYXJrZG93blwiKTtcblxuXHRcdFx0Ly8gQ2hlY2sgZWFjaCBsZWFmIHRvIHNlZSBpZiBpdCdzIHBpbm5lZFxuXHRcdFx0Ly8gUGlubmVkIHN0YXRlIG1pZ2h0IGJlIGluIHRoZSB2aWV3IHN0YXRlIG9yIGxlYWYgcHJvcGVydGllc1xuXHRcdFx0Zm9yIChjb25zdCBsZWFmIG9mIG1hcmtkb3duTGVhdmVzKSB7XG5cdFx0XHRcdGludGVyZmFjZSBXb3Jrc3BhY2VMZWFmV2l0aFBpbm5lZCB7XG5cdFx0XHRcdFx0cGlubmVkPzogYm9vbGVhbjtcblx0XHRcdFx0XHR2aWV3Pzoge1xuXHRcdFx0XHRcdFx0Z2V0U3RhdGU/OiAoKSA9PiB7IHBpbm5lZD86IGJvb2xlYW4gfTtcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGxlYWZXaXRoUGlubmVkID0gbGVhZiBhcyBXb3Jrc3BhY2VMZWFmV2l0aFBpbm5lZDtcblxuXHRcdFx0XHQvLyBUcnkgbXVsdGlwbGUgd2F5cyB0byBjaGVjayBpZiBsZWFmIGlzIHBpbm5lZFxuXHRcdFx0XHRsZXQgaXNQaW5uZWQgPSBmYWxzZTtcblx0XHRcdFx0aWYgKGxlYWZXaXRoUGlubmVkLnBpbm5lZCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGlzUGlubmVkID0gdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIGlmIChsZWFmV2l0aFBpbm5lZC52aWV3Py5nZXRTdGF0ZSkge1xuXHRcdFx0XHRcdGNvbnN0IHN0YXRlID0gbGVhZldpdGhQaW5uZWQudmlldy5nZXRTdGF0ZSgpO1xuXHRcdFx0XHRcdGlmICgoc3RhdGUgYXMgeyBwaW5uZWQ/OiBib29sZWFuIH0pLnBpbm5lZCA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdFx0aXNQaW5uZWQgPSB0cnVlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFsc28gY2hlY2sgdGhlIERPTSBmb3IgcGlubmVkIGluZGljYXRvciBvbiB0aGlzIGxlYWYncyBjb250YWluZXJcblx0XHRcdFx0aW50ZXJmYWNlIFdvcmtzcGFjZUxlYWZXaXRoQ29udGFpbmVyIHtcblx0XHRcdFx0XHRjb250YWluZXJFbD86IEhUTUxFbGVtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IGxlYWZXaXRoQ29udGFpbmVyID0gbGVhZiBhcyBXb3Jrc3BhY2VMZWFmV2l0aENvbnRhaW5lcjtcblx0XHRcdFx0aWYgKGxlYWZXaXRoQ29udGFpbmVyLmNvbnRhaW5lckVsKSB7XG5cdFx0XHRcdFx0Y29uc3QgdGFiSGVhZGVyID1cblx0XHRcdFx0XHRcdGxlYWZXaXRoQ29udGFpbmVyLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXG5cdFx0XHRcdFx0XHRcdFwiLndvcmtzcGFjZS10YWItaGVhZGVyXCJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0aWYgKHRhYkhlYWRlciAmJiB0YWJIZWFkZXIgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuXHRcdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgdGFiIGhhcyBwaW5uZWQgY2xhc3Mgb3IgYXR0cmlidXRlXG5cdFx0XHRcdFx0XHRpZiAoXG5cdFx0XHRcdFx0XHRcdHRhYkhlYWRlci5jbGFzc0xpc3QuY29udGFpbnMoXCJpcy1waW5uZWRcIikgfHxcblx0XHRcdFx0XHRcdFx0dGFiSGVhZGVyLmhhc0F0dHJpYnV0ZShcImRhdGEtcGlubmVkXCIpXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0aXNQaW5uZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpc1Bpbm5lZCkge1xuXHRcdFx0XHRcdC8vIEV4cGxpY2l0bHkgcmV2ZWFsIHRoaXMgbGVhZiB0byBtYWtlIGl0IGFjdGl2ZVxuXHRcdFx0XHRcdHZvaWQgdGhpcy5hcHAud29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG5cdFx0XHRcdFx0Ly8gV2FpdCBmb3IgdGhlIHJldmVhbCB0byB0YWtlIGVmZmVjdCB1c2luZyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIGJldHRlciB0aW1pbmdcblx0XHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT4ge1xuXHRcdFx0XHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcblx0XHRcdFx0XHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHJlc29sdmUoKSk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGNhdGNoIHtcblx0XHRcdC8vIFNpbGVudGx5IGhhbmRsZSBlcnJvcnNcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSGVscGVyIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGFjdGl2ZSB0YWIgY29udGFpbmVyIGJ5IGNoZWNraW5nIHRoZSBET00uXG5cdCAqIExvb2tzIGZvciB0YWJzIHdpdGggdGhlICdpcy1hY3RpdmUnIGNsYXNzIG9yIHZpc2libGUgYWN0aXZlIHRhYiBoZWFkZXJzLlxuXHQgKi9cblx0cHJpdmF0ZSBmaW5kQWN0aXZlVGFiQ29udGFpbmVyRnJvbURPTSgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuXHRcdC8vIFRyeSB0byBmaW5kIGFuIGFjdGl2ZSB0YWIgaGVhZGVyXG5cdFx0Y29uc3QgYWN0aXZlVGFiSGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFwiLndvcmtzcGFjZS10YWItaGVhZGVyLmlzLWFjdGl2ZVwiXG5cdFx0KTtcblx0XHRpZiAoYWN0aXZlVGFiSGVhZGVyKSB7XG5cdFx0XHRjb25zdCB0YWJDb250YWluZXIgPSBhY3RpdmVUYWJIZWFkZXIuY2xvc2VzdChcIi53b3Jrc3BhY2UtdGFic1wiKTtcblx0XHRcdGlmICh0YWJDb250YWluZXIgJiYgdGFiQ29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcblx0XHRcdFx0cmV0dXJuIHRhYkNvbnRhaW5lcjtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBGYWxsYmFjazogZmluZCBhbnkgdmlzaWJsZSB0YWIgY29udGFpbmVyIChwcmVmZXIgdGhlIGZpcnN0IG9uZSlcblx0XHQvLyBUaGlzIGhhbmRsZXMgZWRnZSBjYXNlcyB3aGVyZSBubyB0YWIgaXMgbWFya2VkIGFzIGFjdGl2ZVxuXHRcdGNvbnN0IGFsbFRhYkNvbnRhaW5lcnMgPSBBcnJheS5mcm9tKFxuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi53b3Jrc3BhY2UtdGFic1wiKVxuXHRcdCk7XG5cdFx0Zm9yIChjb25zdCBjb250YWluZXIgb2YgYWxsVGFiQ29udGFpbmVycykge1xuXHRcdFx0Y29uc3QgZWwgPSBjb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHQvLyBDaGVjayBpZiB0aGUgY29udGFpbmVyIGlzIHZpc2libGUgKG5vdCBhbHJlYWR5IGhpZGRlbilcblx0XHRcdGlmIChcblx0XHRcdFx0ZWwub2Zmc2V0UGFyZW50ICE9PSBudWxsICYmXG5cdFx0XHRcdCFlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJ6ZW5tb2RlLXRhYi1oaWRkZW5cIilcblx0XHRcdCkge1xuXHRcdFx0XHRyZXR1cm4gZWw7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyBmb2N1c2VkIGZpbGUgbW9kZSB2aXNpYmlsaXR5LlxuXHQgKiBXaGVuIGVuYWJsZWQsIGhpZGVzIGFsbCB3b3Jrc3BhY2UgdGFiIGNvbnRhaW5lcnMgZXhjZXB0IHRoZSBvbmUgY29udGFpbmluZyB0aGUgYWN0aXZlIGxlYWYsXG5cdCAqIHNob3dpbmcgb25seSB0aGUgY3VycmVudGx5IGZvY3VzZWQgZmlsZS4gV2hlbiBkaXNhYmxlZCwgcmVzdG9yZXMgYWxsIHRhYiBjb250YWluZXJzLlxuXHQgKiBVc2VzIG11bHRpcGxlIGZhbGxiYWNrIG1ldGhvZHMgdG8gaGFuZGxlIHBpbm5lZCB0YWJzIGFuZCBlZGdlIGNhc2VzLlxuXHQgKi9cblx0YXN5bmMgdXBkYXRlRm9jdXNlZEZpbGVNb2RlKCkge1xuXHRcdGlmICghdGhpcy5zZXR0aW5ncy56ZW5Nb2RlIHx8ICF0aGlzLnNldHRpbmdzLmZvY3VzZWRGaWxlTW9kZSkge1xuXHRcdFx0Ly8gUmVzdG9yZSBhbGwgdGFiIGNvbnRhaW5lcnMgd2hlbiBmb2N1c2VkIGZpbGUgbW9kZSBpcyBvZmZcblx0XHRcdGNvbnN0IGFsbFRhYkNvbnRhaW5lcnMgPVxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLndvcmtzcGFjZS10YWJzXCIpO1xuXHRcdFx0YWxsVGFiQ29udGFpbmVycy5mb3JFYWNoKChjb250YWluZXIpID0+IHtcblx0XHRcdFx0Y29uc3QgZWwgPSBjb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJ6ZW5tb2RlLXRhYi1oaWRkZW5cIik7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJ6ZW5tb2RlLXRhYi1hY3RpdmVcIik7XG5cdFx0XHRcdC8vIENsZWFyIGFueSBpbmxpbmUgc3R5bGVzIHRvIHJlc3RvcmUgZGVmYXVsdCBzdGF0ZVxuXHRcdFx0XHRzZXRDc3NQcm9wcyhlbCwgeyBkaXNwbGF5OiBcIlwiLCB3aWR0aDogXCJcIiwgZmxleDogXCJcIiB9KTtcblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIENSSVRJQ0FMOiBCZWZvcmUgY2FsbGluZyBnZXRMZWFmKGZhbHNlKSwgY2hlY2sgZm9yIHBpbm5lZCB0YWJzIGFuZCByZXZlYWwgdGhlbVxuXHRcdC8vIFRoaXMgcHJldmVudHMgZ2V0TGVhZihmYWxzZSkgZnJvbSBjcmVhdGluZyBhIG5ldyB0YWJcblx0XHRhd2FpdCB0aGlzLnJldmVhbFBpbm5lZFRhYklmRXhpc3RzKCk7XG5cblx0XHRjb25zdCBhbGxUYWJDb250YWluZXJzID0gQXJyYXkuZnJvbShcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIud29ya3NwYWNlLXRhYnNcIilcblx0XHQpO1xuXG5cdFx0Ly8gVHJ5IG11bHRpcGxlIG1ldGhvZHMgdG8gZmluZCB0aGUgYWN0aXZlIHRhYiBjb250YWluZXJcblx0XHRsZXQgYWN0aXZlVGFiQ29udGFpbmVyOiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG5cdFx0Ly8gTWV0aG9kIDA6IFBSSU9SSVRZIC0gQ2hlY2sgQUxMIGNvbnRhaW5lcnMgZm9yIHBpbm5lZCB0YWJzIEZJUlNUXG5cdFx0Ly8gSWYgYSBwaW5uZWQgdGFiIGV4aXN0cywgd2UgTVVTVCB1c2UgaXRzIGNvbnRhaW5lciwgbm90IHRoZSBcImFjdGl2ZVwiIG9uZVxuXHRcdGZvciAoY29uc3QgY29udGFpbmVyIG9mIGFsbFRhYkNvbnRhaW5lcnMpIHtcblx0XHRcdGNvbnN0IGVsID0gY29udGFpbmVyIGFzIEhUTUxFbGVtZW50O1xuXHRcdFx0Ly8gQ2hlY2sgYWxsIHRhYiBoZWFkZXJzIGluIHRoaXMgY29udGFpbmVyIGZvciBwaW5uZWQgc3RhdGVcblx0XHRcdC8vIFVzZSBTVFJJQ1QgY2hlY2tzIG9ubHkgLSBjbGFzcyBcImlzLXBpbm5lZFwiIG9yIGRhdGEtcGlubmVkPVwidHJ1ZVwiIGF0dHJpYnV0ZVxuXHRcdFx0Y29uc3QgcGlubmVkVGFicyA9IEFycmF5LmZyb20oXG5cdFx0XHRcdGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXG5cdFx0XHRcdFx0XCIud29ya3NwYWNlLXRhYi1oZWFkZXIuaXMtcGlubmVkLCAud29ya3NwYWNlLXRhYi1oZWFkZXJbZGF0YS1waW5uZWQ9J3RydWUnXVwiXG5cdFx0XHRcdClcblx0XHRcdCk7XG5cblx0XHRcdGlmIChwaW5uZWRUYWJzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0YWN0aXZlVGFiQ29udGFpbmVyID0gZWw7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE1ldGhvZCAxOiBVc2UgZ2V0TW9zdFJlY2VudExlYWYoKSBmb3Igbm9uLXBpbm5lZCB0YWJzIChzYWZlciB0aGFuIGdldExlYWYoZmFsc2UpKVxuXHRcdC8vIFRoaXMgYXZvaWRzIGNyZWF0aW5nIG5ldyB0YWJzIHdoaWxlIHN0aWxsIGZpbmRpbmcgdGhlIGFjdGl2ZSB0YWJcblx0XHRpZiAoIWFjdGl2ZVRhYkNvbnRhaW5lcikge1xuXHRcdFx0Y29uc3QgbW9zdFJlY2VudExlYWYgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TW9zdFJlY2VudExlYWYoKTtcblx0XHRcdGlmIChtb3N0UmVjZW50TGVhZikge1xuXHRcdFx0XHRhY3RpdmVUYWJDb250YWluZXIgPVxuXHRcdFx0XHRcdHRoaXMuZ2V0VGFiQ29udGFpbmVyRnJvbUxlYWYobW9zdFJlY2VudExlYWYpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIE1ldGhvZCAxYjogRmFsbGJhY2sgdG8gRE9NLWJhc2VkIGRldGVjdGlvbiBpZiBnZXRNb3N0UmVjZW50TGVhZigpIGZhaWxlZFxuXHRcdGlmICghYWN0aXZlVGFiQ29udGFpbmVyKSB7XG5cdFx0XHRjb25zdCBhY3RpdmVUYWJGcm9tRE9NID0gdGhpcy5maW5kQWN0aXZlVGFiQ29udGFpbmVyRnJvbURPTSgpO1xuXHRcdFx0aWYgKGFjdGl2ZVRhYkZyb21ET00pIHtcblx0XHRcdFx0YWN0aXZlVGFiQ29udGFpbmVyID0gYWN0aXZlVGFiRnJvbURPTTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBJZiB3ZSBzdGlsbCBjYW4ndCBmaW5kIGEgdmFsaWQgdGFiIGNvbnRhaW5lciwgZ2l2ZSB1cFxuXHRcdGlmICghYWN0aXZlVGFiQ29udGFpbmVyKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSGlkZSBhbGwgd29ya3NwYWNlLXRhYnMgY29udGFpbmVycyBleGNlcHQgdGhlIG9uZSBjb250YWluaW5nIHRoZSBhY3RpdmUgbGVhZlxuXHRcdGFsbFRhYkNvbnRhaW5lcnMuZm9yRWFjaCgodGFiQ29udGFpbmVyKSA9PiB7XG5cdFx0XHRjb25zdCBlbCA9IHRhYkNvbnRhaW5lciBhcyBIVE1MRWxlbWVudDtcblx0XHRcdGlmICh0YWJDb250YWluZXIgPT09IGFjdGl2ZVRhYkNvbnRhaW5lcikge1xuXHRcdFx0XHQvLyBTaG93IGFuZCBleHBhbmQgdGhlIGFjdGl2ZSB0YWIgY29udGFpbmVyXG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoXCJ6ZW5tb2RlLXRhYi1oaWRkZW5cIik7XG5cdFx0XHRcdHNldENzc1Byb3BzKGVsLCB7XG5cdFx0XHRcdFx0ZGlzcGxheTogXCJcIixcblx0XHRcdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRcdFx0ZmxleDogXCIxIDEgMTAwJVwiLFxuXHRcdFx0XHR9KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIEhpZGUgbm9uLWFjdGl2ZSB0YWIgY29udGFpbmVyc1xuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKFwiemVubW9kZS10YWItaGlkZGVuXCIpO1xuXHRcdFx0XHRzZXRDc3NQcm9wcyhlbCwgeyBkaXNwbGF5OiBcIm5vbmVcIiB9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUb2dnbGVzIHplbiBtb2RlIG9uIG9yIG9mZi5cblx0ICogSGFuZGxlcyBmdWxsc2NyZWVuIGVudHJ5L2V4aXQgaWYgZW5hYmxlZCwgdXBkYXRlcyBzZXR0aW5ncywgYW5kIHJlZnJlc2hlcyB0aGUgVUkuXG5cdCAqIEluY2x1ZGVzIGd1YXJkIGFnYWluc3QgY29uY3VycmVudCBpbnZvY2F0aW9ucyB0byBwcmV2ZW50IHJhY2UgY29uZGl0aW9ucy5cblx0ICovXG5cdGFzeW5jIHRvZ2dsZVplbk1vZGUoKSB7XG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCBjb25jdXJyZW50IGludm9jYXRpb25zXG5cdFx0aWYgKHRoaXMuX2lzVG9nZ2xpbmdaZW4pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR0aGlzLl9pc1RvZ2dsaW5nWmVuID0gdHJ1ZTtcblxuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBlbnRlcmluZ1plbk1vZGUgPSAhdGhpcy5zZXR0aW5ncy56ZW5Nb2RlO1xuXG5cdFx0XHQvLyBSZXNldCBoaWdobGlnaHQgZmxhZyB3aGVuIGV4aXRpbmcgWmVuIG1vZGVcblx0XHRcdGlmICghZW50ZXJpbmdaZW5Nb2RlKSB7XG5cdFx0XHRcdHRoaXMuX2hhc1Nob3duSW5pdGlhbEhpZ2hsaWdodCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZW50ZXJpbmdaZW5Nb2RlKSB7XG5cdFx0XHRcdC8vIENSSVRJQ0FMOiBJZiBmb2N1c2VkIGZpbGUgbW9kZSBpcyBlbmFibGVkLCBmaW5kIGFuZCByZXZlYWwgcGlubmVkIHRhYiBCRUZPUkUgYW55dGhpbmcgZWxzZVxuXHRcdFx0XHQvLyBUaGlzIHByZXZlbnRzIE9ic2lkaWFuIGZyb20gY3JlYXRpbmcgYSBuZXcgdGFiIHdoZW4gZ2V0TGVhZihmYWxzZSkgaXMgY2FsbGVkXG5cdFx0XHRcdGlmICh0aGlzLnNldHRpbmdzLmZvY3VzZWRGaWxlTW9kZSkge1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucmV2ZWFsUGlubmVkVGFiSWZFeGlzdHMoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEVudGVyIGZ1bGxzY3JlZW4gZmlyc3QgaWYgc2V0dGluZyBpcyBlbmFibGVkXG5cdFx0XHRcdGlmIChcblx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmZ1bGxzY3JlZW4gJiZcblx0XHRcdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQucmVxdWVzdEZ1bGxzY3JlZW5cblx0XHRcdFx0KSB7XG5cdFx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRcdGF3YWl0IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbigpO1xuXHRcdFx0XHRcdFx0Ly8gV2FpdCBmb3IgbmV4dCBmcmFtZSB0byBlbnN1cmUgZnVsbHNjcmVlbiB0cmFuc2l0aW9uIGlzIHNtb290aFxuXHRcdFx0XHRcdFx0YXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+XG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RBbmltYXRpb25GcmFtZShyZXNvbHZlKVxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0XHRcdC8vIEZ1bGxzY3JlZW4gbWlnaHQgZmFpbCAoZS5nLiwgdXNlciBjYW5jZWxsZWQpLCBjb250aW51ZSBhbnl3YXlcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBVcGRhdGUgemVuIG1vZGUgc3RhdGUgYWZ0ZXIgZnVsbHNjcmVlbiBvcGVyYXRpb24gY29tcGxldGVzXG5cdFx0XHRcdHRoaXMuc2V0dGluZ3MuemVuTW9kZSA9IHRydWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRXhpdCBmdWxsc2NyZWVuIGZpcnN0IGlmIGFjdGl2ZVxuXHRcdFx0XHRpZiAoZG9jdW1lbnQuZnVsbHNjcmVlbkVsZW1lbnQgJiYgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4pIHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0YXdhaXQgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTtcblx0XHRcdFx0XHRcdC8vIFdhaXQgZm9yIERPTSB1cGRhdGVzIHRvIGNvbXBsZXRlXG5cdFx0XHRcdFx0XHRhd2FpdCBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT5cblx0XHRcdFx0XHRcdFx0cmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlc29sdmUpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHRcdFx0Ly8gRnVsbHNjcmVlbiBleGl0IG1pZ2h0IGZhaWwsIGNvbnRpbnVlIGFueXdheVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFVwZGF0ZSB6ZW4gbW9kZSBzdGF0ZSBhZnRlciBmdWxsc2NyZWVuIG9wZXJhdGlvbiBjb21wbGV0ZXNcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy56ZW5Nb2RlID0gZmFsc2U7XG5cdFx0XHRcdGF3YWl0IHRoaXMuc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucmVmcmVzaCgpO1xuXHRcdFx0fVxuXHRcdH0gZmluYWxseSB7XG5cdFx0XHQvLyBBbHdheXMgY2xlYXIgdGhlIGxvY2ssIGV2ZW4gaWYgYW4gZXJyb3Igb2NjdXJzXG5cdFx0XHR0aGlzLl9pc1RvZ2dsaW5nWmVuID0gZmFsc2U7XG5cdFx0fVxuXHR9XG59XG4iLCAiLyoqXG4gKiBTZXR0aW5ncyBpbnRlcmZhY2UgZm9yIHRoZSBaZW4gTW9kZSBwbHVnaW4uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgWmVuTW9kZVNldHRpbmdzIHtcblx0LyoqIFdoZXRoZXIgemVuIG1vZGUgaXMgY3VycmVudGx5IGFjdGl2ZS4gKi9cblx0emVuTW9kZTogYm9vbGVhbjtcblx0LyoqIFdoZXRoZXIgdGhlIGxlZnQgc2lkZWJhciB3YXMgY29sbGFwc2VkIGJlZm9yZSBlbnRlcmluZyB6ZW4gbW9kZS4gKi9cblx0bGVmdFNpZGViYXI6IGJvb2xlYW47XG5cdC8qKiBXaGV0aGVyIHRoZSByaWdodCBzaWRlYmFyIHdhcyBjb2xsYXBzZWQgYmVmb3JlIGVudGVyaW5nIHplbiBtb2RlLiAqL1xuXHRyaWdodFNpZGViYXI6IGJvb2xlYW47XG5cdC8qKiBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHkgZW50ZXIgZnVsbHNjcmVlbiB3aGVuIGVuYWJsaW5nIHplbiBtb2RlLiAqL1xuXHRmdWxsc2NyZWVuOiBib29sZWFuO1xuXHQvKiogV2hlbiB0byBzaG93IHRoZSB6ZW4gbW9kZSBleGl0IGJ1dHRvbi4gKi9cblx0ZXhpdEJ1dHRvblZpc2liaWxpdHk6IFwibW9iaWxlLW9ubHlcIiB8IFwiYWx3YXlzXCIgfCBcIm5ldmVyXCI7XG5cdC8qKiBXaGV0aGVyIHRvIGF1dG8taGlkZSB0aGUgZXhpdCBidXR0b24gb24gZGVza3RvcCAocmV2ZWFscyBvbiBob3ZlcikuICovXG5cdGF1dG9IaWRlQnV0dG9uT25EZXNrdG9wOiBib29sZWFuO1xuXHQvKiogV2hldGhlciB0byBoaWRlIHByb3BlcnRpZXMgd2hlbiB6ZW4gbW9kZSBpcyBhY3RpdmUuICovXG5cdGhpZGVQcm9wZXJ0aWVzOiBib29sZWFuO1xuXHQvKiogV2hldGhlciB0byBoaWRlIHRoZSBpbmxpbmUgdGl0bGUgKG5vdGUgdGl0bGUpIHdoZW4gemVuIG1vZGUgaXMgYWN0aXZlLiAqL1xuXHRoaWRlSW5saW5lVGl0bGU6IGJvb2xlYW47XG5cdC8qKiBUb3AgcGFkZGluZyBpbiBwaXhlbHMgKDAtMTAwKS4gKi9cblx0dG9wUGFkZGluZzogbnVtYmVyO1xuXHQvKiogQm90dG9tIHBhZGRpbmcgaW4gcGl4ZWxzICgwLTEwMCkuICovXG5cdGJvdHRvbVBhZGRpbmc6IG51bWJlcjtcblx0LyoqIFdoZXRoZXIgdG8gc2hvdyBvbmx5IHRoZSBhY3RpdmUgZmlsZSwgaGlkaW5nIGFsbCBvdGhlciBwYW5lcy4gKi9cblx0Zm9jdXNlZEZpbGVNb2RlOiBib29sZWFuO1xuXHQvKiogV2hldGhlciB0byBoaWRlIHRoZSBzdGF0dXMgYmFyIHdoZW4gemVuIG1vZGUgaXMgYWN0aXZlLiAqL1xuXHRoaWRlU3RhdHVzQmFyOiBib29sZWFuO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MgZm9yIHRoZSBaZW4gTW9kZSBwbHVnaW4uXG4gKi9cbmV4cG9ydCBjb25zdCBERUZBVUxUX1NFVFRJTkdTOiBaZW5Nb2RlU2V0dGluZ3MgPSB7XG5cdHplbk1vZGU6IGZhbHNlLFxuXHRsZWZ0U2lkZWJhcjogZmFsc2UsXG5cdHJpZ2h0U2lkZWJhcjogZmFsc2UsXG5cdGZ1bGxzY3JlZW46IGZhbHNlLFxuXHRleGl0QnV0dG9uVmlzaWJpbGl0eTogXCJhbHdheXNcIixcblx0YXV0b0hpZGVCdXR0b25PbkRlc2t0b3A6IGZhbHNlLFxuXHRoaWRlUHJvcGVydGllczogZmFsc2UsXG5cdGhpZGVJbmxpbmVUaXRsZTogZmFsc2UsXG5cdHRvcFBhZGRpbmc6IDAsXG5cdGJvdHRvbVBhZGRpbmc6IDAsXG5cdGZvY3VzZWRGaWxlTW9kZTogZmFsc2UsXG5cdGhpZGVTdGF0dXNCYXI6IGZhbHNlLFxufTtcbiIsICJpbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNyZWF0ZVNldHRpbmdzR3JvdXAgfSBmcm9tIFwiLi91dGlscy9zZXR0aW5ncy1jb21wYXRcIjtcbmltcG9ydCB0eXBlIFplbk1vZGUgZnJvbSBcIi4vbWFpblwiO1xuXG4vKipcbiAqIFNldHRpbmdzIHRhYiBmb3IgdGhlIFplbiBNb2RlIHBsdWdpbi5cbiAqIFByb3ZpZGVzIFVJIGZvciBjb25maWd1cmluZyBhbGwgcGx1Z2luIHNldHRpbmdzLlxuICovXG5leHBvcnQgY2xhc3MgWmVuTW9kZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBaZW5Nb2RlO1xuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBzZXR0aW5ncyB0YWIgaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSBhcHAgLSBUaGUgT2JzaWRpYW4gYXBwIGluc3RhbmNlXG5cdCAqIEBwYXJhbSBwbHVnaW4gLSBUaGUgWmVuIE1vZGUgcGx1Z2luIGluc3RhbmNlXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBaZW5Nb2RlKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0LyoqXG5cdCAqIERpc3BsYXlzIHRoZSBzZXR0aW5ncyB0YWIgVUkuXG5cdCAqIENyZWF0ZXMgYWxsIHNldHRpbmcgY29udHJvbHMgYW5kIHJlZ2lzdGVycyBjaGFuZ2UgaGFuZGxlcnMuXG5cdCAqL1xuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Ly8gQ3JlYXRlIHNldHRpbmdzIGdyb3VwIChubyBoZWFkaW5nIC0gYWxsIHNldHRpbmdzIGFyZSBnZW5lcmFsKVxuXHRcdGNvbnN0IGdlbmVyYWxHcm91cCA9IGNyZWF0ZVNldHRpbmdzR3JvdXAoXG5cdFx0XHRjb250YWluZXJFbCxcblx0XHRcdHVuZGVmaW5lZCxcblx0XHRcdFwiemVubW9kZVwiXG5cdFx0KTtcblxuXHRcdGdlbmVyYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKFwiRnVsbCBzY3JlZW5cIilcblx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XCJBdXRvbWF0aWNhbGx5IGVudGVyIGZ1bGxzY3JlZW4gd2hlbiBlbmFibGluZyB6ZW4gbW9kZS5cIlxuXHRcdFx0XHQpXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5mdWxsc2NyZWVuKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mdWxsc2NyZWVuID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdH0pO1xuXG5cdFx0Z2VuZXJhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoXCJTaG93IHplbiBtb2RlIGV4aXQgYnV0dG9uXCIpXG5cdFx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcdFwiV2hlbiB0byBzaG93IHRoZSBleGl0IGJ1dHRvbiBpbiB6ZW4gbW9kZS4gWW91IGNhbiBhbHNvIGV4aXQgdmlhIHRoZSBjb21tYW5kIHBhbGV0dGUsIGJ5IHByZXNzaW5nIGVzYywgb3IgYnkgYXNzaWduaW5nIGEgaG90a2V5IHRvIHRoZSAndG9nZ2xlIHplbiBtb2RlJyBjb21tYW5kLlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT5cblx0XHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcImFsd2F5c1wiLCBcIkFsd2F5cyBzaG93XCIpXG5cdFx0XHRcdFx0XHQuYWRkT3B0aW9uKFwibW9iaWxlLW9ubHlcIiwgXCJNb2JpbGUgb25seVwiKVxuXHRcdFx0XHRcdFx0LmFkZE9wdGlvbihcIm5ldmVyXCIsIFwiTmV2ZXIgc2hvd1wiKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmV4aXRCdXR0b25WaXNpYmlsaXR5KVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZTogc3RyaW5nKSA9PiB7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4aXRCdXR0b25WaXNpYmlsaXR5ID1cblx0XHRcdFx0XHRcdFx0XHR2YWx1ZSBhcyBcIm1vYmlsZS1vbmx5XCIgfCBcImFsd2F5c1wiIHwgXCJuZXZlclwiO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdH0pO1xuXG5cdFx0Z2VuZXJhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoXCJBdXRvLWhpZGUgemVuIG1vZGUgZXhpdCBidXR0b24gb24gZGVza3RvcFwiKVxuXHRcdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XHRcIldoZW4gZW5hYmxlZCwgdGhlIGV4aXQgYnV0dG9uIGlzIGhpZGRlbiBvbiBkZXNrdG9wIGJ1dCByZXZlYWxzIGl0c2VsZiBvbiBob3ZlciBhcyBsb25nIGFzIHRoZSB6ZW4gbW9kZSBleGl0IGJ1dHRvbiBpcyBvbi5cIlxuXHRcdFx0XHQpXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hdXRvSGlkZUJ1dHRvbk9uRGVza3RvcClcblx0XHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuYXV0b0hpZGVCdXR0b25PbkRlc2t0b3AgPVxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlO1xuXHRcdFx0XHRcdFx0XHR2b2lkIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoKCk7XG5cdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHQpO1xuXHRcdH0pO1xuXG5cdFx0Z2VuZXJhbEdyb3VwLmFkZFNldHRpbmcoKHNldHRpbmcpID0+IHtcblx0XHRcdHNldHRpbmdcblx0XHRcdFx0LnNldE5hbWUoXCJIaWRlIHByb3BlcnRpZXMgaW4gemVuIG1vZGVcIilcblx0XHRcdFx0LnNldERlc2MoXCJIaWRlIHByb3BlcnRpZXMgd2hlbiB6ZW4gbW9kZSBpcyBhY3RpdmUuXCIpXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlUHJvcGVydGllcylcblx0XHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZVByb3BlcnRpZXMgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaCgpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9KTtcblxuXHRcdGdlbmVyYWxHcm91cC5hZGRTZXR0aW5nKChzZXR0aW5nKSA9PiB7XG5cdFx0XHRzZXR0aW5nXG5cdFx0XHRcdC5zZXROYW1lKFwiSGlkZSBpbmxpbmUgdGl0bGUgaW4gemVuIG1vZGVcIilcblx0XHRcdFx0LnNldERlc2MoXG5cdFx0XHRcdFx0XCJIaWRlIHRoZSBpbmxpbmUgdGl0bGUgKG5vdGUgdGl0bGUpIHdoZW4gemVuIG1vZGUgaXMgYWN0aXZlLlwiXG5cdFx0XHRcdClcblx0XHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmhpZGVJbmxpbmVUaXRsZSlcblx0XHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlkZUlubGluZVRpdGxlID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZShcIkhpZGUgc3RhdHVzIGJhciBpbiB6ZW4gbW9kZVwiKVxuXHRcdFx0XHQuc2V0RGVzYyhcIkhpZGUgdGhlIHN0YXR1cyBiYXIgd2hlbiB6ZW4gbW9kZSBpcyBhY3RpdmUuXCIpXG5cdFx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cblx0XHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlU3RhdHVzQmFyKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWRlU3RhdHVzQmFyID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZShcIlRvcCBwYWRkaW5nXCIpXG5cdFx0XHRcdC5zZXREZXNjKFwiVG9wIHBhZGRpbmcgaW4gcGl4ZWxzICgwLTEwMCkuXCIpXG5cdFx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT5cblx0XHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHRcdC5zZXRMaW1pdHMoMCwgMTAwLCAxKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRvcFBhZGRpbmcpXG5cdFx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50b3BQYWRkaW5nID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZShcIkJvdHRvbSBwYWRkaW5nXCIpXG5cdFx0XHRcdC5zZXREZXNjKFwiQm90dG9tIHBhZGRpbmcgaW4gcGl4ZWxzICgwLTEwMCkuXCIpXG5cdFx0XHRcdC5hZGRTbGlkZXIoKHNsaWRlcikgPT5cblx0XHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHRcdC5zZXRMaW1pdHMoMCwgMTAwLCAxKVxuXHRcdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmJvdHRvbVBhZGRpbmcpXG5cdFx0XHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ib3R0b21QYWRkaW5nID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRcdHZvaWQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2goKTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdCk7XG5cdFx0fSk7XG5cblx0XHRnZW5lcmFsR3JvdXAuYWRkU2V0dGluZygoc2V0dGluZykgPT4ge1xuXHRcdFx0c2V0dGluZ1xuXHRcdFx0XHQuc2V0TmFtZShcIkZvY3VzZWQgZmlsZSBtb2RlXCIpXG5cdFx0XHRcdC5zZXREZXNjKFxuXHRcdFx0XHRcdFwiT25seSBzaG93IHRoZSBhY3RpdmUgZmlsZSBpbiB6ZW4gbW9kZSwgaGlkZSBhbGwgb3RoZXIgcGFuZXMuXCJcblx0XHRcdFx0KVxuXHRcdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XG5cdFx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZm9jdXNlZEZpbGVNb2RlKVxuXHRcdFx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5mb2N1c2VkRmlsZU1vZGUgPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dm9pZCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaCgpO1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0KTtcblx0XHR9KTtcblx0fVxufVxuIiwgIi8qKlxuICogQ29tcGF0aWJpbGl0eSB1dGlsaXRpZXMgZm9yIHNldHRpbmdzXG4gKiBQcm92aWRlcyBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGZvciBTZXR0aW5nR3JvdXAgKHJlcXVpcmVzIEFQSSAxLjExLjArKVxuICovXG5cbmltcG9ydCB7IFNldHRpbmcsIHJlcXVpcmVBcGlWZXJzaW9uIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgKiBhcyBPYnNpZGlhbk1vZHVsZSBmcm9tIFwib2JzaWRpYW5cIjtcblxuLyoqXG4gKiBJbnRlcmZhY2UgdGhhdCB3b3JrcyB3aXRoIGJvdGggU2V0dGluZ0dyb3VwIGFuZCBmYWxsYmFjayBjb250YWluZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5nc0NvbnRhaW5lciB7XG5cdGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKTogdm9pZDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgc2V0dGluZ3MgY29udGFpbmVyIHRoYXQgdXNlcyBTZXR0aW5nR3JvdXAgaWYgYXZhaWxhYmxlIChBUEkgMS4xMS4wKyksXG4gKiBvdGhlcndpc2UgZmFsbHMgYmFjayB0byBjcmVhdGluZyBhIGhlYWRpbmcgYW5kIHVzaW5nIHRoZSBjb250YWluZXIgZGlyZWN0bHkuXG4gKlxuICogVXNlcyByZXF1aXJlQXBpVmVyc2lvbignMS4xMS4wJykgdG8gY2hlY2sgaWYgU2V0dGluZ0dyb3VwIGlzIGF2YWlsYWJsZS5cbiAqIFRoaXMgaXMgdGhlIG9mZmljaWFsIE9ic2lkaWFuIEFQSSBtZXRob2QgZm9yIHZlcnNpb24gY2hlY2tpbmcuXG4gKlxuICogQHBhcmFtIGNvbnRhaW5lckVsIC0gVGhlIGNvbnRhaW5lciBlbGVtZW50IGZvciBzZXR0aW5nc1xuICogQHBhcmFtIGhlYWRpbmcgLSBUaGUgaGVhZGluZyB0ZXh0IGZvciB0aGUgc2V0dGluZ3MgZ3JvdXAgKG9wdGlvbmFsKVxuICogQHBhcmFtIG1hbmlmZXN0SWQgLSBUaGUgcGx1Z2luJ3MgbWFuaWZlc3QgSUQgZm9yIENTUyBzY29waW5nIChyZXF1aXJlZCBmb3IgZmFsbGJhY2sgbW9kZSlcbiAqIEByZXR1cm5zIEEgY29udGFpbmVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIHNldHRpbmdzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTZXR0aW5nc0dyb3VwKFxuXHRjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXG5cdGhlYWRpbmc/OiBzdHJpbmcsXG5cdG1hbmlmZXN0SWQ/OiBzdHJpbmdcbik6IFNldHRpbmdzQ29udGFpbmVyIHtcblx0Ly8gQ2hlY2sgaWYgU2V0dGluZ0dyb3VwIGlzIGF2YWlsYWJsZSAoQVBJIDEuMTEuMCspXG5cdC8vIHJlcXVpcmVBcGlWZXJzaW9uIGlzIHRoZSBvZmZpY2lhbCBPYnNpZGlhbiBBUEkgbWV0aG9kIGZvciB2ZXJzaW9uIGNoZWNraW5nXG5cdGlmIChyZXF1aXJlQXBpVmVyc2lvbihcIjEuMTEuMFwiKSkge1xuXHRcdC8vIFVzZSBTZXR0aW5nR3JvdXAgLSBpdCdzIGd1YXJhbnRlZWQgdG8gZXhpc3QgaWYgcmVxdWlyZUFwaVZlcnNpb24gcmV0dXJucyB0cnVlXG5cdFx0Ly8gQWNjZXNzIFNldHRpbmdHcm91cCB2aWEgdHlwZSBhc3NlcnRpb24gc2luY2UgaXQgbWF5IG5vdCBiZSBpbiB0eXBlIGRlZmluaXRpb25zXG5cdFx0Ly8gZm9yIG9sZGVyIFR5cGVTY3JpcHQgdmVyc2lvbnMsIGJ1dCBleGlzdHMgYXQgcnVudGltZSBpbiBPYnNpZGlhbiAxLjExLjArXG5cdFx0Ly8gVXNpbmcgdW5rbm93biBpbnN0ZWFkIG9mIGFueSB0byBzYXRpc2Z5IGVzbGludCB3aGlsZSBtYWludGFpbmluZyB0eXBlIHNhZmV0eVxuXHRcdGNvbnN0IFNldHRpbmdHcm91cENsYXNzID0gKFxuXHRcdFx0T2JzaWRpYW5Nb2R1bGUgYXMgdW5rbm93biBhcyB7XG5cdFx0XHRcdFNldHRpbmdHcm91cD86IG5ldyAoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KSA9PiB7XG5cdFx0XHRcdFx0c2V0SGVhZGluZyhoZWFkaW5nOiBzdHJpbmcpOiB7XG5cdFx0XHRcdFx0XHRhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCk6IHZvaWQ7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCk6IHZvaWQ7XG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0KS5TZXR0aW5nR3JvdXA7XG5cblx0XHRpZiAoU2V0dGluZ0dyb3VwQ2xhc3MpIHtcblx0XHRcdGNvbnN0IGdyb3VwID0gaGVhZGluZ1xuXHRcdFx0XHQ/IG5ldyBTZXR0aW5nR3JvdXBDbGFzcyhjb250YWluZXJFbCkuc2V0SGVhZGluZyhoZWFkaW5nKVxuXHRcdFx0XHQ6IG5ldyBTZXR0aW5nR3JvdXBDbGFzcyhjb250YWluZXJFbCk7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRhZGRTZXR0aW5nKGNiOiAoc2V0dGluZzogU2V0dGluZykgPT4gdm9pZCkge1xuXHRcdFx0XHRcdGdyb3VwLmFkZFNldHRpbmcoY2IpO1xuXHRcdFx0XHR9LFxuXHRcdFx0fTtcblx0XHR9XG5cdH1cblxuXHQvLyBGYWxsYmFjayBwYXRoIChlaXRoZXIgQVBJIDwgMS4xMS4wIG9yIFNldHRpbmdHcm91cCBub3QgZm91bmQpXG5cdC8vIEFkZCBzY29waW5nIGNsYXNzIHRvIGNvbnRhaW5lckVsIHRvIHNjb3BlIENTUyB0byBvbmx5IHRoaXMgcGx1Z2luJ3Mgc2V0dGluZ3Ncblx0aWYgKG1hbmlmZXN0SWQpIHtcblx0XHRjb250YWluZXJFbC5hZGRDbGFzcyhgJHttYW5pZmVzdElkfS1zZXR0aW5ncy1jb21wYXRgKTtcblx0fVxuXG5cdHtcblx0XHQvLyBGYWxsYmFjazogQ3JlYXRlIGEgaGVhZGluZyBtYW51YWxseSBmb3Igb2xkZXIgQVBJIHZlcnNpb25zXG5cdFx0Ly8gTm90ZTogV2hpbGUgYmVzdCBwcmFjdGljZSBwcmVmZXJzIFNldHRpbmcuc2V0SGVhZGluZygpLCB0aGUgZmFsbGJhY2sgcGF0aFxuXHRcdC8vIGlzIGZvciB2ZXJzaW9ucyB0aGF0IG1heSBub3Qgc3VwcG9ydCBpdCwgc28gbWFudWFsIGhlYWRpbmcgaXMgYXBwcm9wcmlhdGUgaGVyZVxuXHRcdGlmIChoZWFkaW5nKSB7XG5cdFx0XHRjb25zdCBoZWFkaW5nRWwgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoXCJzZXR0aW5nLWdyb3VwLWhlYWRpbmdcIik7XG5cdFx0XHRoZWFkaW5nRWwuY3JlYXRlRWwoXCJoM1wiLCB7IHRleHQ6IGhlYWRpbmcgfSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdGFkZFNldHRpbmcoY2I6IChzZXR0aW5nOiBTZXR0aW5nKSA9PiB2b2lkKSB7XG5cdFx0XHRcdGNvbnN0IHNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250YWluZXJFbCk7XG5cdFx0XHRcdGNiKHNldHRpbmcpO1xuXHRcdFx0fSxcblx0XHR9O1xuXHR9XG59XG4iLCAiLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gc2V0IENTUyBwcm9wZXJ0aWVzIG9uIGFuIGVsZW1lbnQuXG4gKiBDb252ZXJ0cyBjYW1lbENhc2UgcHJvcGVydHkgbmFtZXMgdG8ga2ViYWItY2FzZSBmb3IgQ1NTLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3NzUHJvcHMoXG5cdGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuXHRwcm9wczogUmVjb3JkPHN0cmluZywgc3RyaW5nPlxuKTogdm9pZCB7XG5cdE9iamVjdC5lbnRyaWVzKHByb3BzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcblx0XHRjb25zdCBjc3NLZXkgPSBrZXkucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xuXHRcdGVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoY3NzS2V5LCB2YWx1ZSk7XG5cdH0pO1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsSUFBQUEsbUJBQXVEOzs7QUNpQ2hELElBQU0sbUJBQW9DO0FBQUEsRUFDaEQsU0FBUztBQUFBLEVBQ1QsYUFBYTtBQUFBLEVBQ2IsY0FBYztBQUFBLEVBQ2QsWUFBWTtBQUFBLEVBQ1osc0JBQXNCO0FBQUEsRUFDdEIseUJBQXlCO0FBQUEsRUFDekIsZ0JBQWdCO0FBQUEsRUFDaEIsaUJBQWlCO0FBQUEsRUFDakIsWUFBWTtBQUFBLEVBQ1osZUFBZTtBQUFBLEVBQ2YsaUJBQWlCO0FBQUEsRUFDakIsZUFBZTtBQUNoQjs7O0FDOUNBLElBQUFDLG1CQUFzQzs7O0FDS3RDLHNCQUEyQztBQUMzQyxxQkFBZ0M7QUFxQnpCLFNBQVMsb0JBQ2YsYUFDQSxTQUNBLFlBQ29CO0FBR3BCLFVBQUksbUNBQWtCLFFBQVEsR0FBRztBQUtoQyxVQUFNLG9CQVNKO0FBRUYsUUFBSSxtQkFBbUI7QUFDdEIsWUFBTSxRQUFRLFVBQ1gsSUFBSSxrQkFBa0IsV0FBVyxFQUFFLFdBQVcsT0FBTyxJQUNyRCxJQUFJLGtCQUFrQixXQUFXO0FBQ3BDLGFBQU87QUFBQSxRQUNOLFdBQVcsSUFBZ0M7QUFDMUMsZ0JBQU0sV0FBVyxFQUFFO0FBQUEsUUFDcEI7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFJQSxNQUFJLFlBQVk7QUFDZixnQkFBWSxTQUFTLEdBQUcsVUFBVSxrQkFBa0I7QUFBQSxFQUNyRDtBQUVBO0FBSUMsUUFBSSxTQUFTO0FBQ1osWUFBTSxZQUFZLFlBQVksVUFBVSx1QkFBdUI7QUFDL0QsZ0JBQVUsU0FBUyxNQUFNLEVBQUUsTUFBTSxRQUFRLENBQUM7QUFBQSxJQUMzQztBQUVBLFdBQU87QUFBQSxNQUNOLFdBQVcsSUFBZ0M7QUFDMUMsY0FBTSxVQUFVLElBQUksd0JBQVEsV0FBVztBQUN2QyxXQUFHLE9BQU87QUFBQSxNQUNYO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFDRDs7O0FENUVPLElBQU0sb0JBQU4sY0FBZ0Msa0NBQWlCO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT3ZELFlBQVksS0FBVSxRQUFpQjtBQUN0QyxVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNmO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFVBQWdCO0FBQ2YsVUFBTSxFQUFFLFlBQVksSUFBSTtBQUV4QixnQkFBWSxNQUFNO0FBR2xCLFVBQU0sZUFBZTtBQUFBLE1BQ3BCO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNEO0FBRUEsaUJBQWEsV0FBVyxDQUFDLFlBQVk7QUFDcEMsY0FDRSxRQUFRLGFBQWEsRUFDckI7QUFBQSxRQUNBO0FBQUEsTUFDRCxFQUNDO0FBQUEsUUFBVSxDQUFDLFdBQ1gsT0FDRSxTQUFTLEtBQUssT0FBTyxTQUFTLFVBQVUsRUFDeEMsU0FBUyxDQUFDLFVBQVU7QUFDcEIsZUFBSyxPQUFPLFNBQVMsYUFBYTtBQUNsQyxlQUFLLEtBQUssT0FBTyxhQUFhO0FBQUEsUUFDL0IsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGLENBQUM7QUFFRCxpQkFBYSxXQUFXLENBQUMsWUFBWTtBQUNwQyxjQUNFLFFBQVEsMkJBQTJCLEVBQ25DO0FBQUEsUUFDQTtBQUFBLE1BQ0QsRUFDQztBQUFBLFFBQVksQ0FBQyxhQUNiLFNBQ0UsVUFBVSxVQUFVLGFBQWEsRUFDakMsVUFBVSxlQUFlLGFBQWEsRUFDdEMsVUFBVSxTQUFTLFlBQVksRUFDL0IsU0FBUyxLQUFLLE9BQU8sU0FBUyxvQkFBb0IsRUFDbEQsU0FBUyxDQUFDLFVBQWtCO0FBQzVCLGVBQUssT0FBTyxTQUFTLHVCQUNwQjtBQUNELGVBQUssS0FBSyxPQUFPLGFBQWE7QUFDOUIsZUFBSyxPQUFPLFFBQVE7QUFBQSxRQUNyQixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0YsQ0FBQztBQUVELGlCQUFhLFdBQVcsQ0FBQyxZQUFZO0FBQ3BDLGNBQ0UsUUFBUSwyQ0FBMkMsRUFDbkQ7QUFBQSxRQUNBO0FBQUEsTUFDRCxFQUNDO0FBQUEsUUFBVSxDQUFDLFdBQ1gsT0FDRSxTQUFTLEtBQUssT0FBTyxTQUFTLHVCQUF1QixFQUNyRCxTQUFTLENBQUMsVUFBVTtBQUNwQixlQUFLLE9BQU8sU0FBUywwQkFDcEI7QUFDRCxlQUFLLEtBQUssT0FBTyxhQUFhO0FBQzlCLGVBQUssT0FBTyxRQUFRO0FBQUEsUUFDckIsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGLENBQUM7QUFFRCxpQkFBYSxXQUFXLENBQUMsWUFBWTtBQUNwQyxjQUNFLFFBQVEsNkJBQTZCLEVBQ3JDLFFBQVEsMENBQTBDLEVBQ2xEO0FBQUEsUUFBVSxDQUFDLFdBQ1gsT0FDRSxTQUFTLEtBQUssT0FBTyxTQUFTLGNBQWMsRUFDNUMsU0FBUyxDQUFDLFVBQVU7QUFDcEIsZUFBSyxPQUFPLFNBQVMsaUJBQWlCO0FBQ3RDLGVBQUssS0FBSyxPQUFPLGFBQWE7QUFDOUIsZUFBSyxPQUFPLFFBQVE7QUFBQSxRQUNyQixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0YsQ0FBQztBQUVELGlCQUFhLFdBQVcsQ0FBQyxZQUFZO0FBQ3BDLGNBQ0UsUUFBUSwrQkFBK0IsRUFDdkM7QUFBQSxRQUNBO0FBQUEsTUFDRCxFQUNDO0FBQUEsUUFBVSxDQUFDLFdBQ1gsT0FDRSxTQUFTLEtBQUssT0FBTyxTQUFTLGVBQWUsRUFDN0MsU0FBUyxDQUFDLFVBQVU7QUFDcEIsZUFBSyxPQUFPLFNBQVMsa0JBQWtCO0FBQ3ZDLGVBQUssS0FBSyxPQUFPLGFBQWE7QUFDOUIsZUFBSyxPQUFPLFFBQVE7QUFBQSxRQUNyQixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0YsQ0FBQztBQUVELGlCQUFhLFdBQVcsQ0FBQyxZQUFZO0FBQ3BDLGNBQ0UsUUFBUSw2QkFBNkIsRUFDckMsUUFBUSw4Q0FBOEMsRUFDdEQ7QUFBQSxRQUFVLENBQUMsV0FDWCxPQUNFLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxFQUMzQyxTQUFTLENBQUMsVUFBVTtBQUNwQixlQUFLLE9BQU8sU0FBUyxnQkFBZ0I7QUFDckMsZUFBSyxLQUFLLE9BQU8sYUFBYTtBQUM5QixlQUFLLE9BQU8sUUFBUTtBQUFBLFFBQ3JCLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRixDQUFDO0FBRUQsaUJBQWEsV0FBVyxDQUFDLFlBQVk7QUFDcEMsY0FDRSxRQUFRLGFBQWEsRUFDckIsUUFBUSxnQ0FBZ0MsRUFDeEM7QUFBQSxRQUFVLENBQUMsV0FDWCxPQUNFLFVBQVUsR0FBRyxLQUFLLENBQUMsRUFDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxVQUFVLEVBQ3hDLGtCQUFrQixFQUNsQixTQUFTLENBQUMsVUFBVTtBQUNwQixlQUFLLE9BQU8sU0FBUyxhQUFhO0FBQ2xDLGVBQUssS0FBSyxPQUFPLGFBQWE7QUFDOUIsZUFBSyxPQUFPLFFBQVE7QUFBQSxRQUNyQixDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0YsQ0FBQztBQUVELGlCQUFhLFdBQVcsQ0FBQyxZQUFZO0FBQ3BDLGNBQ0UsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSxtQ0FBbUMsRUFDM0M7QUFBQSxRQUFVLENBQUMsV0FDWCxPQUNFLFVBQVUsR0FBRyxLQUFLLENBQUMsRUFDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxhQUFhLEVBQzNDLGtCQUFrQixFQUNsQixTQUFTLENBQUMsVUFBVTtBQUNwQixlQUFLLE9BQU8sU0FBUyxnQkFBZ0I7QUFDckMsZUFBSyxLQUFLLE9BQU8sYUFBYTtBQUM5QixlQUFLLE9BQU8sUUFBUTtBQUFBLFFBQ3JCLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRixDQUFDO0FBRUQsaUJBQWEsV0FBVyxDQUFDLFlBQVk7QUFDcEMsY0FDRSxRQUFRLG1CQUFtQixFQUMzQjtBQUFBLFFBQ0E7QUFBQSxNQUNELEVBQ0M7QUFBQSxRQUFVLENBQUMsV0FDWCxPQUNFLFNBQVMsS0FBSyxPQUFPLFNBQVMsZUFBZSxFQUM3QyxTQUFTLENBQUMsVUFBVTtBQUNwQixlQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsZUFBSyxLQUFLLE9BQU8sYUFBYTtBQUM5QixlQUFLLE9BQU8sUUFBUTtBQUFBLFFBQ3JCLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRixDQUFDO0FBQUEsRUFDRjtBQUNEOzs7QUV6TE8sU0FBUyxZQUNmLFNBQ0EsT0FDTztBQUNQLFNBQU8sUUFBUSxLQUFLLEVBQUUsUUFBUSxDQUFDLENBQUMsS0FBSyxLQUFLLE1BQU07QUFDL0MsVUFBTSxTQUFTLElBQUksUUFBUSxtQkFBbUIsT0FBTyxFQUFFLFlBQVk7QUFDbkUsWUFBUSxNQUFNLFlBQVksUUFBUSxLQUFLO0FBQUEsRUFDeEMsQ0FBQztBQUNGOzs7QUpDQSxJQUFxQixVQUFyQixjQUFxQyx3QkFBTztBQUFBLEVBQTVDO0FBQUE7QUFFQztBQUFBLHFCQUFxQjtBQUdyQixTQUFRLGlCQUEwQjtBQUNsQyxTQUFRLDhCQUFtRDtBQUMzRCxTQUFRLDRCQUFxQztBQUM3QyxTQUFRLHFCQUErQixDQUFDO0FBQ3hDLFNBQVEsY0FBdUI7QUErSC9CO0FBQUE7QUFBQTtBQUFBO0FBQUEsbUJBQVUsTUFBTTtBQUVmLFdBQUssWUFBWTtBQUNqQixXQUFLLHFCQUFxQjtBQUMxQixXQUFLLG9CQUFvQjtBQUN6QixXQUFLLEtBQUssc0JBQXNCO0FBQUEsSUFDakM7QUFvREE7QUFBQTtBQUFBO0FBQUE7QUFBQSx1QkFBYyxNQUFNO0FBQ25CLGVBQVMsS0FBSyxVQUFVLE9BQU8sa0JBQWtCLEtBQUssU0FBUyxPQUFPO0FBR3RFLGVBQVMsZ0JBQWdCLE1BQU07QUFBQSxRQUM5QjtBQUFBLFFBQ0EsR0FBRyxLQUFLLFNBQVMsVUFBVTtBQUFBLE1BQzVCO0FBQ0EsZUFBUyxnQkFBZ0IsTUFBTTtBQUFBLFFBQzlCO0FBQUEsUUFDQSxHQUFHLEtBQUssU0FBUyxhQUFhO0FBQUEsTUFDL0I7QUFJQSxVQUFJLEtBQUssU0FBUyxTQUFTO0FBQzFCLGlCQUFTLEtBQUssVUFBVTtBQUFBLFVBQ3ZCO0FBQUEsVUFDQSxLQUFLLFNBQVM7QUFBQSxRQUNmO0FBQ0EsaUJBQVMsS0FBSyxVQUFVO0FBQUEsVUFDdkI7QUFBQSxVQUNBLEtBQUssU0FBUztBQUFBLFFBQ2Y7QUFBQSxNQUNELE9BQU87QUFDTixpQkFBUyxLQUFLLFVBQVUsT0FBTyx5QkFBeUI7QUFDeEQsaUJBQVMsS0FBSyxVQUFVLE9BQU8seUJBQXlCO0FBQUEsTUFDekQ7QUFFQSxVQUFJLEtBQUssU0FBUyxTQUFTO0FBQzFCLGlCQUFTLEtBQUs7QUFBQSxVQUNiO0FBQUEsVUFDQSxLQUFLLFNBQVMsZ0JBQWdCLFNBQVM7QUFBQSxRQUN4QztBQUNBLGlCQUFTLEtBQUs7QUFBQSxVQUNiO0FBQUEsVUFDQSxLQUFLLFNBQVMsZ0JBQWdCLFNBQVM7QUFBQSxRQUN4QztBQUFBLE1BQ0QsT0FBTztBQUVOLGlCQUFTLEtBQUssZ0JBQWdCLDRCQUE0QjtBQUMxRCxpQkFBUyxLQUFLLGdCQUFnQix1QkFBdUI7QUFBQSxNQUN0RDtBQUFBLElBQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUE5TkEsTUFBTSxTQUFTO0FBRWQsVUFBTSxLQUFLLGFBQWE7QUFHeEIsU0FBSyxjQUFjLEtBQUssU0FBUztBQUdqQyxTQUFLLGNBQWMsSUFBSSxrQkFBa0IsS0FBSyxLQUFLLElBQUksQ0FBQztBQUd4RCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTTtBQUNmLGFBQUssS0FBSyxjQUFjO0FBQUEsTUFDekI7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLGNBQWMsVUFBVSxtQkFBbUIsTUFBTTtBQUNyRCxXQUFLLEtBQUssY0FBYztBQUFBLElBQ3pCLENBQUM7QUFHRCxTQUFLO0FBQUEsTUFDSixLQUFLLElBQUksVUFBVSxHQUFHLHNCQUFzQixNQUFNO0FBQ2pELGFBQUssS0FBSyxzQkFBc0I7QUFBQSxNQUNqQyxDQUFDO0FBQUEsSUFDRjtBQUdBLFNBQUssaUJBQWlCLFVBQVUsV0FBVyxDQUFDLFFBQXVCO0FBM0RyRTtBQTRERyxVQUFJLElBQUksUUFBUSxZQUFZLEtBQUssU0FBUyxTQUFTO0FBR2xELGNBQU0sU0FBUyxJQUFJO0FBQ25CLFlBQUksUUFBUTtBQUNYLGdCQUFNLFdBQVcsT0FBTyxRQUFRLFlBQVk7QUFDNUMsY0FBSSxVQUFVO0FBR2Isa0JBQU0sUUFBUSxLQUFLLElBQ2pCO0FBR0Ysa0JBQUksV0FBTSxXQUFOLG1CQUFjLGFBQVksTUFBTTtBQUVuQztBQUFBLFlBQ0Q7QUFBQSxVQUNEO0FBSUEsY0FDQyxrQkFBa0IsdUJBQ2xCLE9BQU8sYUFDUCxPQUFPLFVBQVUsU0FBUyxZQUFZLEdBQ3JDO0FBQ0Q7QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUVBLGNBQU0sY0FBYyxTQUFTLGNBQWMsUUFBUTtBQUNuRCxZQUFJLENBQUMsYUFBYTtBQUNqQixlQUFLLEtBQUssY0FBYztBQUN4QixjQUFJLGVBQWU7QUFBQSxRQUNwQjtBQUFBLE1BQ0Q7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFFBQVE7QUFBQSxFQUNkO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLFdBQVc7QUFFVixTQUFLLG1CQUFtQixRQUFRLENBQUMsT0FBTyxhQUFhLEVBQUUsQ0FBQztBQUN4RCxRQUFJLEtBQUssaUJBQWlCO0FBQ3pCLFdBQUssZ0JBQWdCLE9BQU87QUFBQSxJQUM3QjtBQUVBLFFBQUksS0FBSywrQkFBK0IsT0FBTyxnQkFBZ0I7QUFDOUQsYUFBTyxlQUFlO0FBQUEsUUFDckI7QUFBQSxRQUNBLEtBQUs7QUFBQSxNQUNOO0FBQUEsSUFDRDtBQUdBLFFBQUksS0FBSyxTQUFTLFNBQVM7QUFDMUIsV0FBSyxTQUFTLFVBQVU7QUFDeEIsV0FBSyxZQUFZO0FBQ2pCLFdBQUsscUJBQXFCO0FBRTFCLGFBQU8sY0FBYyxJQUFJLE1BQU0sUUFBUSxDQUFDO0FBQUEsSUFDekM7QUFBQSxFQUNEO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxhQUNKLE1BQU0sS0FBSyxTQUFTO0FBQ3RCLFNBQUssV0FBVyxFQUFFLEdBQUcsa0JBQWtCLEdBQUcsV0FBVztBQUFBLEVBQ3REO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQUEsRUFDbEM7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFtQkEsdUJBQXVCO0FBRXRCLFFBQUksS0FBSyxTQUFTLFlBQVksS0FBSyxhQUFhO0FBQy9DO0FBQUEsSUFDRDtBQUdBLFVBQU0sTUFBTSxLQUFLO0FBRWpCLFFBQ0MsSUFBSSxVQUFVLGFBQWEsVUFDM0IsSUFBSSxVQUFVLGNBQWMsUUFDM0I7QUFDRDtBQUFBLElBQ0Q7QUFFQSxRQUFJLENBQUMsS0FBSyxTQUFTLFNBQVM7QUFDM0IsVUFBSSxDQUFDLEtBQUssU0FBUyxhQUFhO0FBQy9CLFlBQUksVUFBVSxVQUFVLE9BQU87QUFBQSxNQUNoQztBQUNBLFVBQUksQ0FBQyxLQUFLLFNBQVMsY0FBYztBQUNoQyxZQUFJLFVBQVUsV0FBVyxPQUFPO0FBQUEsTUFDakM7QUFBQSxJQUNELE9BQU87QUFDTixXQUFLLFNBQVMsZUFDYixLQUFLLElBQUksVUFBVSxXQUFXO0FBQy9CLFdBQUssU0FBUyxjQUFjLEtBQUssSUFBSSxVQUFVLFVBQVU7QUFFekQsVUFBSSxJQUFJLFVBQVUsVUFBVSxhQUFhLEtBQUssU0FBUyxTQUFTO0FBQy9ELFlBQUksVUFBVSxVQUFVLFNBQVM7QUFBQSxNQUNsQztBQUVBLFVBQUksSUFBSSxVQUFVLFdBQVcsYUFBYSxLQUFLLFNBQVMsU0FBUztBQUNoRSxZQUFJLFVBQVUsV0FBVyxTQUFTO0FBQUEsTUFDbkM7QUFBQSxJQUNEO0FBR0EsU0FBSyxjQUFjLEtBQUssU0FBUztBQUFBLEVBQ2xDO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQXVEQSxlQUFlO0FBQ2QsU0FBSyxrQkFBa0IsU0FBUyxjQUFjLEtBQUs7QUFDbkQsU0FBSyxnQkFBZ0IsVUFBVSxJQUFJLGdCQUFnQjtBQUVuRCxTQUFLLFNBQVMsSUFBSSxpQ0FBZ0IsS0FBSyxlQUFlO0FBQ3RELFNBQUssT0FBTyxRQUFRLFFBQVE7QUFDNUIsU0FBSyxPQUFPLFFBQVEsTUFBTTtBQUN6QixXQUFLLEtBQUssY0FBYztBQUFBLElBQ3pCLENBQUM7QUFFRCxhQUFTLEtBQUssWUFBWSxLQUFLLGVBQWU7QUFHOUMsU0FBSyxxQkFBcUI7QUFHMUIsU0FBSyxpQkFBaUIsUUFBUSxVQUFVLE1BQU07QUFDN0MsV0FBSyxxQkFBcUI7QUFBQSxJQUMzQixDQUFDO0FBR0QsUUFBSSxPQUFPLGdCQUFnQjtBQUMxQixXQUFLLDhCQUE4QixNQUFNO0FBQ3hDLGFBQUsscUJBQXFCO0FBQUEsTUFDM0I7QUFDQSxhQUFPLGVBQWU7QUFBQSxRQUNyQjtBQUFBLFFBQ0EsS0FBSztBQUFBLE1BQ047QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU9BLHVCQUF1QjtBQXJTeEI7QUFzU0UsUUFDQyxDQUFDLEtBQUssbUJBQ04sQ0FBQyxTQUFTLEtBQUssVUFBVSxTQUFTLFdBQVcsR0FDNUM7QUFDRDtBQUFBLElBQ0Q7QUFJQSxVQUFNLG1CQUNMLFlBQU8sbUJBQVAsbUJBQXVCLFdBQVUsT0FBTztBQUN6QyxVQUFNLGVBQWUsT0FBTztBQUM1QixVQUFNLHNCQUFzQixLQUFLLElBQUksR0FBRyxlQUFlLGNBQWM7QUFJckUsVUFBTSxrQkFBa0I7QUFDeEIsVUFBTSxtQkFBbUIsS0FBSztBQUFBLE1BQzdCO0FBQUEsTUFDQSxzQkFBc0I7QUFBQSxJQUN2QjtBQUdBLGdCQUFZLEtBQUssaUJBQWlCLEVBQUUsUUFBUSxHQUFHLGdCQUFnQixLQUFLLENBQUM7QUFBQSxFQUN0RTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNQSxzQkFBc0I7QUFDckIsVUFBTSxXQUFXLFNBQVMsS0FBSyxVQUFVLFNBQVMsV0FBVztBQUM3RCxVQUFNLGFBQ0wsS0FBSyxTQUFTLFlBQ2IsS0FBSyxTQUFTLHlCQUF5QixZQUN0QyxLQUFLLFNBQVMseUJBQXlCLGlCQUN2QztBQUVILFFBQUksWUFBWTtBQUNmLFVBQUksQ0FBQyxLQUFLLFdBQVc7QUFDcEIsYUFBSyxhQUFhO0FBQ2xCLGFBQUssWUFBWTtBQUFBLE1BQ2xCO0FBQ0EsV0FBSyxnQkFBaUIsVUFBVSxJQUFJLHdCQUF3QjtBQUk1RCxVQUNDLEtBQUssU0FBUywyQkFDZCxDQUFDLFlBQ0QsS0FBSyxTQUFTLHlCQUF5QixVQUN0QztBQUNELGFBQUssZ0JBQWlCLFVBQVUsSUFBSSwwQkFBMEI7QUFHOUQsWUFBSSxDQUFDLEtBQUssMkJBQTJCO0FBQ3BDLGVBQUssZ0JBQWlCLFVBQVU7QUFBQSxZQUMvQjtBQUFBLFVBQ0Q7QUFDQSxlQUFLLDRCQUE0QjtBQUdqQyxnQkFBTSxXQUFXLE9BQU8sV0FBVyxNQUFNO0FBQ3hDLGdCQUFJLEtBQUssaUJBQWlCO0FBQ3pCLG1CQUFLLGdCQUFnQixVQUFVO0FBQUEsZ0JBQzlCO0FBQUEsY0FDRDtBQUVBLG9CQUFNLFdBQVcsT0FBTyxXQUFXLE1BQU07QUFDeEMsb0JBQUksS0FBSyxpQkFBaUI7QUFDekIsdUJBQUssZ0JBQWdCLFVBQVU7QUFBQSxvQkFDOUI7QUFBQSxrQkFDRDtBQUFBLGdCQUNEO0FBQUEsY0FDRCxHQUFHLEdBQUc7QUFDTixtQkFBSyxtQkFBbUIsS0FBSyxRQUFRO0FBQUEsWUFDdEM7QUFBQSxVQUNELEdBQUcsSUFBSTtBQUNQLGVBQUssbUJBQW1CLEtBQUssUUFBUTtBQUFBLFFBQ3RDO0FBQUEsTUFDRCxPQUFPO0FBQ04sYUFBSyxnQkFBaUIsVUFBVTtBQUFBLFVBQy9CO0FBQUEsUUFDRDtBQUNBLGFBQUssZ0JBQWlCLFVBQVU7QUFBQSxVQUMvQjtBQUFBLFFBQ0Q7QUFDQSxhQUFLLGdCQUFpQixVQUFVO0FBQUEsVUFDL0I7QUFBQSxRQUNEO0FBQUEsTUFDRDtBQUdBLFdBQUsscUJBQXFCO0FBQUEsSUFDM0IsT0FBTztBQUNOLFVBQUksS0FBSyxXQUFXO0FBQ25CLGFBQUssZ0JBQWlCLFVBQVU7QUFBQSxVQUMvQjtBQUFBLFFBQ0Q7QUFBQSxNQUNEO0FBQUEsSUFDRDtBQUFBLEVBQ0Q7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBTVEsd0JBQ1AsTUFDcUI7QUFuWnZCO0FBb1pFLFFBQUksQ0FBQyxLQUFNLFFBQU87QUFPbEIsVUFBTSxvQkFBb0I7QUFDMUIsVUFBTSxpQkFBZ0IsdUJBQWtCLGdCQUFsQixZQUFpQztBQUN2RCxRQUFJLENBQUMsY0FBZSxRQUFPO0FBRTNCLFVBQU0sZUFBZSxjQUFjLFFBQVEsaUJBQWlCO0FBQzVELFFBQUksQ0FBQyxnQkFBZ0IsRUFBRSx3QkFBd0I7QUFDOUMsYUFBTztBQUVSLFdBQU87QUFBQSxFQUNSO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQU1BLE1BQWMsMEJBQXlDO0FBMWF4RDtBQTJhRSxRQUFJO0FBR0gsWUFBTSxpQkFDTCxLQUFLLElBQUksVUFBVSxnQkFBZ0IsVUFBVTtBQUk5QyxpQkFBVyxRQUFRLGdCQUFnQjtBQU9sQyxjQUFNLGlCQUFpQjtBQUd2QixZQUFJLFdBQVc7QUFDZixZQUFJLGVBQWUsV0FBVyxNQUFNO0FBQ25DLHFCQUFXO0FBQUEsUUFDWixZQUFXLG9CQUFlLFNBQWYsbUJBQXFCLFVBQVU7QUFDekMsZ0JBQU0sUUFBUSxlQUFlLEtBQUssU0FBUztBQUMzQyxjQUFLLE1BQStCLFdBQVcsTUFBTTtBQUNwRCx1QkFBVztBQUFBLFVBQ1o7QUFBQSxRQUNEO0FBTUEsY0FBTSxvQkFBb0I7QUFDMUIsWUFBSSxrQkFBa0IsYUFBYTtBQUNsQyxnQkFBTSxZQUNMLGtCQUFrQixZQUFZO0FBQUEsWUFDN0I7QUFBQSxVQUNEO0FBQ0QsY0FBSSxhQUFhLHFCQUFxQixhQUFhO0FBRWxELGdCQUNDLFVBQVUsVUFBVSxTQUFTLFdBQVcsS0FDeEMsVUFBVSxhQUFhLGFBQWEsR0FDbkM7QUFDRCx5QkFBVztBQUFBLFlBQ1o7QUFBQSxVQUNEO0FBQUEsUUFDRDtBQUVBLFlBQUksVUFBVTtBQUViLGVBQUssS0FBSyxJQUFJLFVBQVUsV0FBVyxJQUFJO0FBRXZDLGdCQUFNLElBQUksUUFBYyxDQUFDLFlBQVk7QUFDcEMsa0NBQXNCLE1BQU07QUFDM0Isb0NBQXNCLE1BQU0sUUFBUSxDQUFDO0FBQUEsWUFDdEMsQ0FBQztBQUFBLFVBQ0YsQ0FBQztBQUNEO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFBQSxJQUNELFNBQVE7QUFBQSxJQUVSO0FBQUEsRUFDRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFNUSxnQ0FBb0Q7QUFFM0QsVUFBTSxrQkFBa0IsU0FBUztBQUFBLE1BQ2hDO0FBQUEsSUFDRDtBQUNBLFFBQUksaUJBQWlCO0FBQ3BCLFlBQU0sZUFBZSxnQkFBZ0IsUUFBUSxpQkFBaUI7QUFDOUQsVUFBSSxnQkFBZ0Isd0JBQXdCLGFBQWE7QUFDeEQsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBSUEsVUFBTSxtQkFBbUIsTUFBTTtBQUFBLE1BQzlCLFNBQVMsaUJBQWlCLGlCQUFpQjtBQUFBLElBQzVDO0FBQ0EsZUFBVyxhQUFhLGtCQUFrQjtBQUN6QyxZQUFNLEtBQUs7QUFFWCxVQUNDLEdBQUcsaUJBQWlCLFFBQ3BCLENBQUMsR0FBRyxVQUFVLFNBQVMsb0JBQW9CLEdBQzFDO0FBQ0QsZUFBTztBQUFBLE1BQ1I7QUFBQSxJQUNEO0FBRUEsV0FBTztBQUFBLEVBQ1I7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxFQVFBLE1BQU0sd0JBQXdCO0FBQzdCLFFBQUksQ0FBQyxLQUFLLFNBQVMsV0FBVyxDQUFDLEtBQUssU0FBUyxpQkFBaUI7QUFFN0QsWUFBTUMsb0JBQ0wsU0FBUyxpQkFBaUIsaUJBQWlCO0FBQzVDLE1BQUFBLGtCQUFpQixRQUFRLENBQUMsY0FBYztBQUN2QyxjQUFNLEtBQUs7QUFDWCxXQUFHLFVBQVUsT0FBTyxvQkFBb0I7QUFDeEMsV0FBRyxVQUFVLE9BQU8sb0JBQW9CO0FBRXhDLG9CQUFZLElBQUksRUFBRSxTQUFTLElBQUksT0FBTyxJQUFJLE1BQU0sR0FBRyxDQUFDO0FBQUEsTUFDckQsQ0FBQztBQUNEO0FBQUEsSUFDRDtBQUlBLFVBQU0sS0FBSyx3QkFBd0I7QUFFbkMsVUFBTSxtQkFBbUIsTUFBTTtBQUFBLE1BQzlCLFNBQVMsaUJBQWlCLGlCQUFpQjtBQUFBLElBQzVDO0FBR0EsUUFBSSxxQkFBeUM7QUFJN0MsZUFBVyxhQUFhLGtCQUFrQjtBQUN6QyxZQUFNLEtBQUs7QUFHWCxZQUFNLGFBQWEsTUFBTTtBQUFBLFFBQ3hCLEdBQUc7QUFBQSxVQUNGO0FBQUEsUUFDRDtBQUFBLE1BQ0Q7QUFFQSxVQUFJLFdBQVcsU0FBUyxHQUFHO0FBQzFCLDZCQUFxQjtBQUNyQjtBQUFBLE1BQ0Q7QUFBQSxJQUNEO0FBSUEsUUFBSSxDQUFDLG9CQUFvQjtBQUN4QixZQUFNLGlCQUFpQixLQUFLLElBQUksVUFBVSxrQkFBa0I7QUFDNUQsVUFBSSxnQkFBZ0I7QUFDbkIsNkJBQ0MsS0FBSyx3QkFBd0IsY0FBYztBQUFBLE1BQzdDO0FBQUEsSUFDRDtBQUdBLFFBQUksQ0FBQyxvQkFBb0I7QUFDeEIsWUFBTSxtQkFBbUIsS0FBSyw4QkFBOEI7QUFDNUQsVUFBSSxrQkFBa0I7QUFDckIsNkJBQXFCO0FBQUEsTUFDdEI7QUFBQSxJQUNEO0FBR0EsUUFBSSxDQUFDLG9CQUFvQjtBQUN4QjtBQUFBLElBQ0Q7QUFHQSxxQkFBaUIsUUFBUSxDQUFDLGlCQUFpQjtBQUMxQyxZQUFNLEtBQUs7QUFDWCxVQUFJLGlCQUFpQixvQkFBb0I7QUFFeEMsV0FBRyxVQUFVLE9BQU8sb0JBQW9CO0FBQ3hDLG9CQUFZLElBQUk7QUFBQSxVQUNmLFNBQVM7QUFBQSxVQUNULE9BQU87QUFBQSxVQUNQLE1BQU07QUFBQSxRQUNQLENBQUM7QUFBQSxNQUNGLE9BQU87QUFFTixXQUFHLFVBQVUsSUFBSSxvQkFBb0I7QUFDckMsb0JBQVksSUFBSSxFQUFFLFNBQVMsT0FBTyxDQUFDO0FBQUEsTUFDcEM7QUFBQSxJQUNELENBQUM7QUFBQSxFQUNGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLEVBT0EsTUFBTSxnQkFBZ0I7QUFFckIsUUFBSSxLQUFLLGdCQUFnQjtBQUN4QjtBQUFBLElBQ0Q7QUFFQSxTQUFLLGlCQUFpQjtBQUV0QixRQUFJO0FBQ0gsWUFBTSxrQkFBa0IsQ0FBQyxLQUFLLFNBQVM7QUFHdkMsVUFBSSxDQUFDLGlCQUFpQjtBQUNyQixhQUFLLDRCQUE0QjtBQUFBLE1BQ2xDO0FBRUEsVUFBSSxpQkFBaUI7QUFHcEIsWUFBSSxLQUFLLFNBQVMsaUJBQWlCO0FBQ2xDLGdCQUFNLEtBQUssd0JBQXdCO0FBQUEsUUFDcEM7QUFHQSxZQUNDLEtBQUssU0FBUyxjQUNkLFNBQVMsZ0JBQWdCLG1CQUN4QjtBQUNELGNBQUk7QUFDSCxrQkFBTSxTQUFTLGdCQUFnQixrQkFBa0I7QUFFakQsa0JBQU0sSUFBSTtBQUFBLGNBQVEsQ0FBQyxZQUNsQixzQkFBc0IsT0FBTztBQUFBLFlBQzlCO0FBQUEsVUFDRCxTQUFRO0FBQUEsVUFFUjtBQUFBLFFBQ0Q7QUFHQSxhQUFLLFNBQVMsVUFBVTtBQUN4QixjQUFNLEtBQUssYUFBYTtBQUN4QixhQUFLLFFBQVE7QUFBQSxNQUNkLE9BQU87QUFFTixZQUFJLFNBQVMscUJBQXFCLFNBQVMsZ0JBQWdCO0FBQzFELGNBQUk7QUFDSCxrQkFBTSxTQUFTLGVBQWU7QUFFOUIsa0JBQU0sSUFBSTtBQUFBLGNBQVEsQ0FBQyxZQUNsQixzQkFBc0IsT0FBTztBQUFBLFlBQzlCO0FBQUEsVUFDRCxTQUFRO0FBQUEsVUFFUjtBQUFBLFFBQ0Q7QUFHQSxhQUFLLFNBQVMsVUFBVTtBQUN4QixjQUFNLEtBQUssYUFBYTtBQUN4QixhQUFLLFFBQVE7QUFBQSxNQUNkO0FBQUEsSUFDRCxVQUFFO0FBRUQsV0FBSyxpQkFBaUI7QUFBQSxJQUN2QjtBQUFBLEVBQ0Q7QUFDRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJhbGxUYWJDb250YWluZXJzIl0KfQo=
